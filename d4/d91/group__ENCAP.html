<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack: OpENer Ethernet encapsulation layer</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack
   &#160;<span id="projectnumber">2.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d4/d91/group__ENCAP.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">OpENer Ethernet encapsulation layer</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gafdcff621008b5e305165424c6ac4ea25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gafdcff621008b5e305165424c6ac4ea25">CipItemId</a> { <br/>
&#160;&#160;<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a7d3d1f2d6b2f4ed65dc34b792bfdaa4f">kCipItemIdNullAddress</a> = 0x0000, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aa082d77e86c75c44df304252971b4007">kCipItemIdListIdentityResponse</a> = 0x000C, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f">kCipItemIdConnectionAddress</a> = 0x00A1, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217">kCipItemIdConnectedDataItem</a> = 0x00B1, 
<br/>
&#160;&#160;<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a9b966ac289a5c11fc80a2ab274c99a19">kCipItemIdUnconnectedDataItem</a> = 0x00B2, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a43d8fa4dfdd73a9a23c8a75330d7b162">kCipItemIdListServiceResponse</a> = 0x0100, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623">kCipItemIdSocketAddressInfoOriginatorToTarget</a> = 0x8000, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a> = 0x8001, 
<br/>
&#160;&#160;<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1">kCipItemIdSequencedAddressItem</a> = 0x8002
<br/>
 }</td></tr>
<tr class="memdesc:gafdcff621008b5e305165424c6ac4ea25"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPF is Common Packet Format CPF packet := &lt;number of items&gt; {&lt;items&gt;} item := &lt;TypeID&gt; &lt;Length&gt; &lt;data&gt; &lt;number of items&gt; := two bytes &lt;TypeID&gt; := two bytes &lt;Length&gt; := two bytes &lt;data&gt; := &lt;the number of bytes specified by Length&gt;  <a href="../../d4/d91/group__ENCAP.html#gafdcff621008b5e305165424c6ac4ea25">More...</a><br/></td></tr>
<tr class="separator:gafdcff621008b5e305165424c6ac4ea25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaafc3c9e3ff582c9b7e438ae2b1fdf822"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gaafc3c9e3ff582c9b7e438ae2b1fdf822">AddDintToMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a> data, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:gaafc3c9e3ff582c9b7e438ae2b1fdf822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an 32Bit integer to the network buffer.  <a href="#gaafc3c9e3ff582c9b7e438ae2b1fdf822">More...</a><br/></td></tr>
<tr class="separator:gaafc3c9e3ff582c9b7e438ae2b1fdf822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae689aac2a85bf49fb356ec94c8800799"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gae689aac2a85bf49fb356ec94c8800799">AddIntToMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> data, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:gae689aac2a85bf49fb356ec94c8800799"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an 16Bit integer to the network buffer.  <a href="#gae689aac2a85bf49fb356ec94c8800799">More...</a><br/></td></tr>
<tr class="separator:gae689aac2a85bf49fb356ec94c8800799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae267a8684cc6ee1b3bd83df03260b7aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gae267a8684cc6ee1b3bd83df03260b7aa">AddSintToMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> data, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:gae267a8684cc6ee1b3bd83df03260b7aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts UINT8 data from host to little endian an writes it to buffer.  <a href="#gae267a8684cc6ee1b3bd83df03260b7aa">More...</a><br/></td></tr>
<tr class="separator:gae267a8684cc6ee1b3bd83df03260b7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga137d29fba9dd744ed2e9323bf75e0bba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga137d29fba9dd744ed2e9323bf75e0bba">AssembleIOMessage</a> (const <a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *const common_packet_format_data_item, <a class="el" href="../../d7/df9/encap_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const message)</td></tr>
<tr class="separator:ga137d29fba9dd744ed2e9323bf75e0bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa28ed48b18b92a64faf70093eb74d891"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gaa28ed48b18b92a64faf70093eb74d891">AssembleLinearMessage</a> (const <a class="el" href="../../d0/d1f/structCipMessageRouterResponse.html">CipMessageRouterResponse</a> *const message_router_response, const <a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *const common_packet_format_data_item, <a class="el" href="../../d7/df9/encap_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:gaa28ed48b18b92a64faf70093eb74d891"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy data from message_router_response struct and common_packet_format_data_item into ENIPMessage struct outgoing_message via encapsulation.  <a href="#gaa28ed48b18b92a64faf70093eb74d891">More...</a><br/></td></tr>
<tr class="separator:gaa28ed48b18b92a64faf70093eb74d891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4525f090b67d97b3a3f7cce3ca441ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gab4525f090b67d97b3a3f7cce3ca441ec">CreateCommonPacketFormatStructure</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *data, size_t data_length, <a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data)</td></tr>
<tr class="memdesc:gab4525f090b67d97b3a3f7cce3ca441ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates Common Packet Format structure out of data.  <a href="#gab4525f090b67d97b3a3f7cce3ca441ec">More...</a><br/></td></tr>
<tr class="separator:gab4525f090b67d97b3a3f7cce3ca441ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a0dc2be6c485d9e6940d5b20a981022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga7a0dc2be6c485d9e6940d5b20a981022">EncapsulationInit</a> (void)</td></tr>
<tr class="memdesc:ga7a0dc2be6c485d9e6940d5b20a981022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the encapsulation layer.  <a href="#ga7a0dc2be6c485d9e6940d5b20a981022">More...</a><br/></td></tr>
<tr class="separator:ga7a0dc2be6c485d9e6940d5b20a981022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1261bd2441f744c38d7a3f8d8c16c391"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga1261bd2441f744c38d7a3f8d8c16c391">EncapsulationShutDown</a> (void)</td></tr>
<tr class="memdesc:ga1261bd2441f744c38d7a3f8d8c16c391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the encapsulation layer.  <a href="#ga1261bd2441f744c38d7a3f8d8c16c391">More...</a><br/></td></tr>
<tr class="separator:ga1261bd2441f744c38d7a3f8d8c16c391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga668f92389ee06510864585b97955f6f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga668f92389ee06510864585b97955f6f8">GetDintFromMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:ga668f92389ee06510864585b97955f6f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an 32Bit integer from the network buffer.  <a href="#ga668f92389ee06510864585b97955f6f8">More...</a><br/></td></tr>
<tr class="separator:ga668f92389ee06510864585b97955f6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70322f970709ca9c9a1a1d474cfe2302"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga70322f970709ca9c9a1a1d474cfe2302">GetIntFromMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:ga70322f970709ca9c9a1a1d474cfe2302"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value.  <a href="#ga70322f970709ca9c9a1a1d474cfe2302">More...</a><br/></td></tr>
<tr class="separator:ga70322f970709ca9c9a1a1d474cfe2302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a45608ad12bae48152cb1cfafef1a4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga0a45608ad12bae48152cb1cfafef1a4c">GetSintFromMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:ga0a45608ad12bae48152cb1cfafef1a4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads EIP_UINT8 from *buffer and converts little endian to host.  <a href="#ga0a45608ad12bae48152cb1cfafef1a4c">More...</a><br/></td></tr>
<tr class="separator:ga0a45608ad12bae48152cb1cfafef1a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac">ManageEncapsulationMessages</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#a2972c9424f18b12265ca35d0548da82a">MilliSeconds</a> elapsed_time)</td></tr>
<tr class="memdesc:ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle delayed encapsulation message responses.  <a href="#ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac">More...</a><br/></td></tr>
<tr class="separator:ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18376333d90074460a180facd602c3d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga18376333d90074460a180facd602c3d9">NotifyCommonPacketFormat</a> (<a class="el" href="../../d7/df9/encap_8h.html#ac4bf15574436ce32c449e9f41b69c994">EncapsulationData</a> *const received_data, const struct sockaddr *const originator_address, <a class="el" href="../../d7/df9/encap_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="separator:ga18376333d90074460a180facd602c3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93b23ccc67639937716a8f436a96c2b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga93b23ccc67639937716a8f436a96c2b5">NotifyConnectedCommonPacketFormat</a> (const <a class="el" href="../../d7/df9/encap_8h.html#ac4bf15574436ce32c449e9f41b69c994">EncapsulationData</a> *const received_data, const struct sockaddr *const originator_address, <a class="el" href="../../d7/df9/encap_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="separator:ga93b23ccc67639937716a8f436a96c2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gafaae5be8de81c633ea4df46fa8b957e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a></td></tr>
<tr class="memdesc:gafaae5be8de81c633ea4df46fa8b957e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data storage for the any CPF data Currently we are single threaded and need only one CPF at the time. For future extensions towards multithreading maybe more CPF data items may be necessary.  <a href="#gafaae5be8de81c633ea4df46fa8b957e0">More...</a><br/></td></tr>
<tr class="separator:gafaae5be8de81c633ea4df46fa8b957e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Ethernet encapsulation layer handles provides the abstraction between the Ethernet and the CIP layer. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gafdcff621008b5e305165424c6ac4ea25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d91/group__ENCAP.html#gafdcff621008b5e305165424c6ac4ea25">CipItemId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CPF is Common Packet Format CPF packet := &lt;number of items&gt; {&lt;items&gt;} item := &lt;TypeID&gt; &lt;Length&gt; &lt;data&gt; &lt;number of items&gt; := two bytes &lt;TypeID&gt; := two bytes &lt;Length&gt; := two bytes &lt;data&gt; := &lt;the number of bytes specified by Length&gt; </p>
<p>Definition of Item ID numbers used for address and data items in CPF structures </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a7d3d1f2d6b2f4ed65dc34b792bfdaa4f"></a>kCipItemIdNullAddress</em>&#160;</td><td class="fielddoc">
<p>Type: Address; Indicates that encapsulation routing is not needed. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25aa082d77e86c75c44df304252971b4007"></a>kCipItemIdListIdentityResponse</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f"></a>kCipItemIdConnectionAddress</em>&#160;</td><td class="fielddoc">
<p>Type: Address; Connection-based, used for connected messages, see Vol.2, p.42 </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217"></a>kCipItemIdConnectedDataItem</em>&#160;</td><td class="fielddoc">
<p>Type: Data; Connected data item, see Vol.2, p.43 </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a9b966ac289a5c11fc80a2ab274c99a19"></a>kCipItemIdUnconnectedDataItem</em>&#160;</td><td class="fielddoc">
<p>Type: Data; Unconnected message </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a43d8fa4dfdd73a9a23c8a75330d7b162"></a>kCipItemIdListServiceResponse</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623"></a>kCipItemIdSocketAddressInfoOriginatorToTarget</em>&#160;</td><td class="fielddoc">
<p>Type: Data; Sockaddr info item originator to target </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d"></a>kCipItemIdSocketAddressInfoTargetToOriginator</em>&#160;</td><td class="fielddoc">
<p>Type: Data; Sockaddr info item target to originator </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1"></a>kCipItemIdSequencedAddressItem</em>&#160;</td><td class="fielddoc">
<p>Sequenced Address item </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../d0/dff/cpf_8h_source.html#l00024">24</a> of file <a class="el" href="../../d0/dff/cpf_8h_source.html">cpf.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaafc3c9e3ff582c9b7e438ae2b1fdf822"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AddDintToMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an 32Bit integer to the network buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 4!</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length in bytes of the encoded message</dd></dl>
<p>Write an 32Bit integer to the network buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00132">132</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00871">AssembleForwardCloseResponse()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00739">AssembleForwardOpenResponse()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00651">AssembleLinearMessage()</a>, <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00356">CipEpathSetLogicalValue()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00197">EncapsulateIpAddress()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00434">EncapsulateListIdentityResponseMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00314">EncodeConnectedAddressItem()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00450">EncodeData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00337">EncodeSequencedAddressItem()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00316">GenerateEncapsulationHeader()</a>, and <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00781">SendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gaafc3c9e3ff582c9b7e438ae2b1fdf822_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae689aac2a85bf49fb356ec94c8800799"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AddIntToMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an 16Bit integer to the network buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 2!</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length in bytes of the encoded message</dd></dl>
<p>Write an 16Bit integer to the network buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00117">117</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00871">AssembleForwardCloseResponse()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00739">AssembleForwardOpenResponse()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00651">AssembleLinearMessage()</a>, <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00356">CipEpathSetLogicalValue()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00197">EncapsulateIpAddress()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00434">EncapsulateListIdentityResponseMessage()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00528">EncapsulateRegisterSessionCommandResponseMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00314">EncodeConnectedAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00436">EncodeConnectedDataItemLength()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00450">EncodeData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00398">EncodeDataItemLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00381">EncodeDataItemType()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00758">EncodeEPath()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00542">EncodeExtendedStatusDataItems()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00364">EncodeItemCount()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00297">EncodeNullAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00337">EncodeSequencedAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00455">EncodeSequenceNumber()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00620">EncodeSockaddrInfoItemTypeId()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00641">EncodeSockaddrInfoLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00584">EncodeUnconnectedDataItemLength()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00316">GenerateEncapsulationHeader()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00380">HandleReceivedListInterfacesCommand()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00344">HandleReceivedListServicesCommand()</a>, and <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00781">SendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gae689aac2a85bf49fb356ec94c8800799_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae267a8684cc6ee1b3bd83df03260b7aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AddSintToMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts UINT8 data from host to little endian an writes it to buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00103">103</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00356">CipEpathSetLogicalValue()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00450">EncodeData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00415">EncodeDataItemData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00525">EncodeExtendedStatusLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00507">EncodeGeneralStatus()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00600">EncodeMessageRouterResponseData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00473">EncodeReplyService()</a>, and <a class="el" href="../../d3/d98/cpf_8c_source.html#l00490">EncodeReservedFieldOfLengthByte()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gae267a8684cc6ee1b3bd83df03260b7aa_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga137d29fba9dd744ed2e9323bf75e0bba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AssembleIOMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *const&#160;</td>
          <td class="paramname"><em>common_packet_format_data_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/df9/encap_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy data from CPFDataItem into linear memory in message for transmission over in encapsulation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">common_packet_format_data_item</td><td>pointer to CPF structure which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">message</td><td>Modified ENIP message struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of modification in bytes EIP_ERROR .. error </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00760">760</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../d3/d98/cpf_8c_source.html#l00651">AssembleLinearMessage()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00781">SendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga137d29fba9dd744ed2e9323bf75e0bba_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga137d29fba9dd744ed2e9323bf75e0bba_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa28ed48b18b92a64faf70093eb74d891"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AssembleLinearMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d1f/structCipMessageRouterResponse.html">CipMessageRouterResponse</a> *const&#160;</td>
          <td class="paramname"><em>message_router_response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *const&#160;</td>
          <td class="paramname"><em>common_packet_format_data_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/df9/encap_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const&#160;</td>
          <td class="paramname"><em>outgoing_message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy data from message_router_response struct and common_packet_format_data_item into ENIPMessage struct outgoing_message via encapsulation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message_router_response</td><td>pointer to message router response which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">common_packet_format_data_item</td><td>pointer to CPF structure which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>Modified ENIP message struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of modification in bytes kEipStatusError .. error </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00651">651</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../da/d73/endianconv_8c_source.html#l00132">AddDintToMessage()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00117">AddIntToMessage()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00071">CipCommonPacketFormatData::address_info_item</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00069">CipCommonPacketFormatData::address_item</a>, <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00013">enip_message::current_message_position</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00070">CipCommonPacketFormatData::data_item</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00197">EncapsulateIpAddress()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00314">EncodeConnectedAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00436">EncodeConnectedDataItemLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00415">EncodeDataItemData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00398">EncodeDataItemLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00381">EncodeDataItemType()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00567">EncodeExtendedStatus()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00507">EncodeGeneralStatus()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00364">EncodeItemCount()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00600">EncodeMessageRouterResponseData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00297">EncodeNullAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00473">EncodeReplyService()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00490">EncodeReservedFieldOfLengthByte()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00337">EncodeSequencedAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00455">EncodeSequenceNumber()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00620">EncodeSockaddrInfoItemTypeId()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00641">EncodeSockaddrInfoLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00584">EncodeUnconnectedDataItemLength()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00271">FillNextNMessageOctetsWithValueAndMoveToNextPosition()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00028">kCipItemIdConnectedDataItem</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00027">kCipItemIdConnectionAddress</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00025">kCipItemIdNullAddress</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00033">kCipItemIdSequencedAddressItem</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00031">kCipItemIdSocketAddressInfoOriginatorToTarget</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00032">kCipItemIdSocketAddressInfoTargetToOriginator</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00029">kCipItemIdUnconnectedDataItem</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00096">kEipStatusError</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00089">OPENER_TRACE_INFO</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00061">SocketAddressInfoItem::sin_addr</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00060">SocketAddressInfoItem::sin_port</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00042">AddressItem::type_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00048">DataItem::type_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00057">SocketAddressInfoItem::type_id</a>, and <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00014">enip_message::used_message_length</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d98/cpf_8c_source.html#l00760">AssembleIOMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00026">NotifyCommonPacketFormat()</a>, and <a class="el" href="../../d3/d98/cpf_8c_source.html#l00091">NotifyConnectedCommonPacketFormat()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gaa28ed48b18b92a64faf70093eb74d891_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gaa28ed48b18b92a64faf70093eb74d891_icgraph.svg" width="100%" height="426"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab4525f090b67d97b3a3f7cce3ca441ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> CreateCommonPacketFormatStructure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *&#160;</td>
          <td class="paramname"><em>common_packet_format_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates Common Packet Format structure out of data. </p>
<p>Create CPF structure out of the received data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to data which need to be structured. </td></tr>
    <tr><td class="paramname">data_length</td><td>length of data in pa_Data. </td></tr>
    <tr><td class="paramname">common_packet_format_data</td><td>pointer to structure of CPF data item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status EIP_OK .. success EIP_ERROR .. error</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to data which need to be structured. </td></tr>
    <tr><td class="paramname">data_length</td><td>Length of data in pa_Data. </td></tr>
    <tr><td class="paramname">common_packet_format_data</td><td>Pointer to structure of CPF data item.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusOk .. success kEipStatusError .. error </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00204">204</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../d0/dff/cpf_8h_source.html#l00071">CipCommonPacketFormatData::address_info_item</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00069">CipCommonPacketFormatData::address_item</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00037">AddressData::connection_identifier</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00044">AddressItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00050">DataItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00070">CipCommonPacketFormatData::data_item</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00083">GetDintFromMessage()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00057">GetIntFromMessage()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00068">CipCommonPacketFormatData::item_count</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00031">kCipItemIdSocketAddressInfoOriginatorToTarget</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00032">kCipItemIdSocketAddressInfoTargetToOriginator</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00096">kEipStatusError</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00094">kEipStatusOk</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00043">AddressItem::length</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00049">DataItem::length</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00058">SocketAddressInfoItem::length</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00062">SocketAddressInfoItem::nasin_zero</a>, <a class="el" href="../../d9/d28/MINGW_2sample__application_2opener__user__conf_8h_source.html#l00134">OPENER_ASSERT</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00089">OPENER_TRACE_INFO</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00087">OPENER_TRACE_WARN</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00038">AddressData::sequence_number</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00061">SocketAddressInfoItem::sin_addr</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00059">SocketAddressInfoItem::sin_family</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00060">SocketAddressInfoItem::sin_port</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00042">AddressItem::type_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00048">DataItem::type_id</a>, and <a class="el" href="../../d0/dff/cpf_8h_source.html#l00057">SocketAddressInfoItem::type_id</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00242">HandleReceivedConnectedData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00026">NotifyCommonPacketFormat()</a>, and <a class="el" href="../../d3/d98/cpf_8c_source.html#l00091">NotifyConnectedCommonPacketFormat()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gab4525f090b67d97b3a3f7cce3ca441ec_cgraph.svg" width="408" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gab4525f090b67d97b3a3f7cce3ca441ec_icgraph.svg" width="100%" height="431"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7a0dc2be6c485d9e6940d5b20a981022"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EncapsulationInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the encapsulation layer. </p>

<p>Definition at line <a class="el" href="../../d2/dbd/encap_8c_source.html#l00122">122</a> of file <a class="el" href="../../d2/dbd/encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="../../d7/df9/encap_8h_source.html#l00056">encapsulation_interface_information::capability_flags</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00239">DetermineEndianess()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00068">ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00055">encapsulation_interface_information::encapsulation_protocol_version</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00083">g_interface_information</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00085">g_registered_sessions</a>, <a class="el" href="../../df/d28/ciptypes_8h_source.html#l00295">CipTcpIpNetworkInterfaceConfiguration::ip_address</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00065">kCapabilityFlagsCipTcp</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00065">kCapabilityFlagsCipUdpClass0or1</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00030">kCipItemIdListServiceResponse</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00054">encapsulation_interface_information::length</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00057">encapsulation_interface_information::name_of_service</a>, <a class="el" href="../../d9/d28/MINGW_2sample__application_2opener__user__conf_8h_source.html#l00083">OPENER_NUMBER_OF_SUPPORTED_SESSIONS</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00078">DelayedEncapsulationMessage::socket</a>, and <a class="el" href="../../d7/df9/encap_8h_source.html#l00053">encapsulation_interface_information::type_code</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00036">CipStackInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga7a0dc2be6c485d9e6940d5b20a981022_cgraph.svg" width="326" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga7a0dc2be6c485d9e6940d5b20a981022_icgraph.svg" width="376" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1261bd2441f744c38d7a3f8d8c16c391"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EncapsulationShutDown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown the encapsulation layer. </p>
<p>This means that all open sessions including their sockets are closed. </p>

<p>Definition at line <a class="el" href="../../d2/dbd/encap_8c_source.html#l00846">846</a> of file <a class="el" href="../../d2/dbd/encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="../../db/d4f/generic__networkhandler_8c_source.html#l00261">CloseTcpSocket()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00085">g_registered_sessions</a>, <a class="el" href="../../d9/d28/MINGW_2sample__application_2opener__user__conf_8h_source.html#l00083">OPENER_NUMBER_OF_SUPPORTED_SESSIONS</a>, and <a class="el" href="../../d1/d1b/trace_8h_source.html#l00089">OPENER_TRACE_INFO</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00061">ShutdownCipStack()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga1261bd2441f744c38d7a3f8d8c16c391_cgraph.svg" width="100%" height="416"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga1261bd2441f744c38d7a3f8d8c16c391_icgraph.svg" width="459" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga668f92389ee06510864585b97955f6f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a> GetDintFromMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an 32Bit integer from the network buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 4! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Extracted 32 bit integer value</dd></dl>
<p>Get an 32Bit integer from the network buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EIP_UNÍT32 value </dd></dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00083">83</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00332">CipEpathGetLogicalValue()</a>, <a class="el" href="../../df/d91/cipconnectionobject_8c_source.html#l00111">ConnectionObjectInitializeFromMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00204">CreateCommonPacketFormatStructure()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00773">CreateEncapsulationStructure()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00616">DecodeData()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00559">ForwardClose()</a>, <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00514">GetPathNetworkSegmentProductionInhibitTimeInMicroseconds()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00870">HandleReceivedIoConnectionData()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00697">HandleReceivedSendRequestResponseDataCommand()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00651">HandleReceivedSendUnitDataCommand()</a>, <a class="el" href="../../dd/d34/cipqos_8c_source.html#l00041">SetAttributeSingleQoS()</a>, and <a class="el" href="../../dd/d20/ciptcpipinterface_8c_source.html#l00080">SetAttributeSingleTcp()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga668f92389ee06510864585b97955f6f8_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga70322f970709ca9c9a1a1d474cfe2302"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> GetIntFromMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the network buffer array. This pointer will be incremented by 2! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Extracted 16 bit integer value</dd></dl>
<p>Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EIP_UINT16 data value </dd></dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00057">57</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00332">CipEpathGetLogicalValue()</a>, <a class="el" href="../../df/d91/cipconnectionobject_8c_source.html#l00111">ConnectionObjectInitializeFromMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00204">CreateCommonPacketFormatStructure()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00773">CreateEncapsulationStructure()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00616">DecodeData()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00815">DecodePaddedEPath()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00511">DetermineDelayTime()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00559">ForwardClose()</a>, <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00441">GetElectronicKeyFormat4FromMessage()</a>, <a class="el" href="../../db/d4f/generic__networkhandler_8c_source.html#l00607">HandleDataOnTcpSocket()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00870">HandleReceivedIoConnectionData()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00555">HandleReceivedRegisterSessionCommand()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00697">HandleReceivedSendRequestResponseDataCommand()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00651">HandleReceivedSendUnitDataCommand()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00091">NotifyConnectedCommonPacketFormat()</a>, and <a class="el" href="../../dd/d20/ciptcpipinterface_8c_source.html#l00080">SetAttributeSingleTcp()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga70322f970709ca9c9a1a1d474cfe2302_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0a45608ad12bae48152cb1cfafef1a4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> GetSintFromMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads EIP_UINT8 from *buffer and converts little endian to host. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EIP_UINT8 data value </dd></dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00029">29</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00332">CipEpathGetLogicalValue()</a>, <a class="el" href="../../df/d91/cipconnectionobject_8c_source.html#l00111">ConnectionObjectInitializeFromMessage()</a>, <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00441">GetElectronicKeyFormat4FromMessage()</a>, <a class="el" href="../../de/ddc/cipepath_8c_source.html#l00616">GetPathDataSegmentSimpleDataWordLength()</a>, and <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l01050">ParseConnectionPath()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga0a45608ad12bae48152cb1cfafef1a4c_icgraph.svg" width="100%" height="513"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ManageEncapsulationMessages </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#a2972c9424f18b12265ca35d0548da82a">MilliSeconds</a>&#160;</td>
          <td class="paramname"><em>elapsed_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle delayed encapsulation message responses. </p>
<p>Certain encapsulation message requests require a delayed sending of the response message. This functions checks if messages need to be sent and performs the sending. </p>

<p>Definition at line <a class="el" href="../../d2/dbd/encap_8c_source.html#l00856">856</a> of file <a class="el" href="../../d2/dbd/encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="../../d2/dbd/encap_8c_source.html#l00068">ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00080">DelayedEncapsulationMessage::outgoing_message</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00079">DelayedEncapsulationMessage::receiver</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00078">DelayedEncapsulationMessage::socket</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00077">DelayedEncapsulationMessage::time_out</a>, and <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00014">enip_message::used_message_length</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00649">ManageConnections()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga18376333d90074460a180facd602c3d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NotifyCommonPacketFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/df9/encap_8h.html#ac4bf15574436ce32c449e9f41b69c994">EncapsulationData</a> *const&#160;</td>
          <td class="paramname"><em>received_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *const&#160;</td>
          <td class="paramname"><em>originator_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/df9/encap_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const&#160;</td>
          <td class="paramname"><em>outgoing_message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the CPF data from a received unconnected explicit message and hand the data on to the message router</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">received_data</td><td>pointer to the encapsulation structure with the received message </td></tr>
    <tr><td class="paramname">originator_address</td><td>Address struct of the originator </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>The outgoing ENIP message struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes to be sent back. &lt; 0 if nothing should be sent </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00026">26</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../d0/dff/cpf_8h_source.html#l00069">CipCommonPacketFormatData::address_item</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00651">AssembleLinearMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00204">CreateCommonPacketFormatStructure()</a>, <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00013">enip_message::current_message_position</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00050">DataItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00070">CipCommonPacketFormatData::data_item</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00043">encapsulation_data::data_length</a>, <a class="el" href="../../d9/d7d/cipmessagerouter_8c_source.html#l00014">g_message_router_response</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00316">GenerateEncapsulationHeader()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00025">kCipItemIdNullAddress</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00029">kCipItemIdUnconnectedDataItem</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00096">kEipStatusError</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00094">kEipStatusOk</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00034">kEncapsulationProtocolIncorrectData</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00031">kEncapsulationProtocolSuccess</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00049">DataItem::length</a>, <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00012">enip_message::message_buffer</a>, <a class="el" href="../../d9/d7d/cipmessagerouter_8c_source.html#l00173">NotifyMessageRouter()</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00086">OPENER_TRACE_ERR</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00044">encapsulation_data::session_handle</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00311">SkipEncapsulationHeader()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00042">AddressItem::type_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00048">DataItem::type_id</a>, and <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00014">enip_message::used_message_length</a>.</p>

<p>Referenced by <a class="el" href="../../d2/dbd/encap_8c_source.html#l00697">HandleReceivedSendRequestResponseDataCommand()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga18376333d90074460a180facd602c3d9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga18376333d90074460a180facd602c3d9_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga93b23ccc67639937716a8f436a96c2b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NotifyConnectedCommonPacketFormat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/df9/encap_8h.html#ac4bf15574436ce32c449e9f41b69c994">EncapsulationData</a> *const&#160;</td>
          <td class="paramname"><em>received_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *const&#160;</td>
          <td class="paramname"><em>originator_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/df9/encap_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const&#160;</td>
          <td class="paramname"><em>outgoing_message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the CPF data from a received connected explicit message, check the connection status, update any timers, and hand the data on to the message router</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">received_data</td><td>pointer to the encapsulation structure with the received message </td></tr>
    <tr><td class="paramname">originator_address</td><td>Address struct of the originator </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>The outgoing ENIP message struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes to be sent back. &lt; 0 if nothing should be sent </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00091">91</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../d0/dff/cpf_8h_source.html#l00069">CipCommonPacketFormatData::address_item</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00651">AssembleLinearMessage()</a>, <a class="el" href="../../d1/d6c/cipconnectionobject_8h_source.html#l00112">cip_connection_object::cip_produced_connection_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00037">AddressData::connection_identifier</a>, <a class="el" href="../../df/d91/cipconnectionobject_8c_source.html#l00582">ConnectionObjectResetInactivityWatchdogTimerValue()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00204">CreateCommonPacketFormatStructure()</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00049">encapsulation_data::current_communication_buffer_position</a>, <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00013">enip_message::current_message_position</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00044">AddressItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00050">DataItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00070">CipCommonPacketFormatData::data_item</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00043">encapsulation_data::data_length</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00022">ENCAPSULATION_HEADER_LENGTH</a>, <a class="el" href="../../d9/d7d/cipmessagerouter_8c_source.html#l00014">g_message_router_response</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00316">GenerateEncapsulationHeader()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00919">GetConnectedObject()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00057">GetIntFromMessage()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00028">kCipItemIdConnectedDataItem</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00027">kCipItemIdConnectionAddress</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00096">kEipStatusError</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00031">kEncapsulationProtocolSuccess</a>, <a class="el" href="../../d1/d6c/cipconnectionobject_8h_source.html#l00190">cip_connection_object::last_reply_sent</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00049">DataItem::length</a>, <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00012">enip_message::message_buffer</a>, <a class="el" href="../../d9/d7d/cipmessagerouter_8c_source.html#l00173">NotifyMessageRouter()</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00086">OPENER_TRACE_ERR</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00089">OPENER_TRACE_INFO</a>, <a class="el" href="../../d1/d6c/cipconnectionobject_8h_source.html#l00154">cip_connection_object::sequence_count_consuming</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00038">AddressData::sequence_number</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00044">encapsulation_data::session_handle</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00311">SkipEncapsulationHeader()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00042">AddressItem::type_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00048">DataItem::type_id</a>, and <a class="el" href="../../d8/d2c/enipmessage_8h_source.html#l00014">enip_message::used_message_length</a>.</p>

<p>Referenced by <a class="el" href="../../d2/dbd/encap_8c_source.html#l00651">HandleReceivedSendUnitDataCommand()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga93b23ccc67639937716a8f436a96c2b5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga93b23ccc67639937716a8f436a96c2b5_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gafaae5be8de81c633ea4df46fa8b957e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> g_common_packet_format_data_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data storage for the any CPF data Currently we are single threaded and need only one CPF at the time. For future extensions towards multithreading maybe more CPF data items may be necessary. </p>
<p>CPF global data items </p>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00024">24</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00871">AssembleForwardCloseResponse()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00739">AssembleForwardOpenResponse()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00559">ForwardClose()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00242">HandleReceivedConnectedData()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00923">OpenCommunicationChannels()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00446">OpenProducingMulticastConnection()</a>, and <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00781">SendConnectedData()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Mar 25 2019 12:20:46 for OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
