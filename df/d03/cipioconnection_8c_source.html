<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack: src/cip/cipioconnection.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack
   &#160;<span id="projectnumber">2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d03/cipioconnection_8c_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">cipioconnection.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d03/cipioconnection_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*******************************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2011, Rockwell Automation, Inc.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * All rights reserved.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d45/cipioconnection_8h.html">cipioconnection.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/dc2/generic__networkhandler_8h.html">generic_networkhandler.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/da3/cipconnectionmanager_8h.html">cipconnectionmanager.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/df4/cipassembly_8h.html">cipassembly.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/dad/ciptcpipinterface_8h.html">ciptcpipinterface.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d14/cipcommon_8h.html">cipcommon.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/dc0/appcontype_8h.html">appcontype.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/dff/cpf_8h.html">cpf.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d1b/trace_8h.html">trace.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/dec/endianconv_8h.html">endianconv.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/*The port to be used per default for I/O messages on UDP.*/</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a46f1aa5e4d7142036318ba3c9f2707ea">   24</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#a46f1aa5e4d7142036318ba3c9f2707ea">kOpenerEipIoUdpPort</a> = 0x08AE;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* producing multicast connection have to consider the rules that apply for</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * application connection types.</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a5dea6fc1be0ed4ecf5d9e4f932d52106">OpenProducingMulticastConnection</a>(</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object,</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a9e2ce4666173987646cf60ce3422d7b4">OpenMulticastConnection</a>(</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42">UdpCommuncationDirection</a> direction,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#add645b42730b2cea369523949c6b9745">OpenConsumingPointToPointConnection</a>(</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *<span class="keyword">const</span> connection_object,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *<span class="keyword">const</span> common_packet_format_data);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#aa3b58fd216ec6712abc29ef84b33006d">OpenProducingPointToPointConnection</a>(</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a68b99df85d462657b12a854316c168f5">HandleConfigData</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/* Regularly close the IO connection. If it is an exclusive owner or input only</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * connection and in charge of the connection a new owner will be searched</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#a730b410a0cdbc6a456973c0e51568968">CloseIoConnection</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#a7e4923f4b027d489d9933b52f6fd7007">HandleIoConnectionTimeOut</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a20f1bc1c4cc4470cf371f94d51814de2">SendConnectedData</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a73bfd5fa3bc96e11219d0b24d70b88c7">HandleReceivedIoConnectionData</a>(</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *data,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> data_length);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">/**** Global variables ****/</span></div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../de/d45/cipioconnection_8h.html#a534c0a24266039f7ced0d36b7c5496bc">   69</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *<a class="code" href="../../df/d03/cipioconnection_8c.html#a534c0a24266039f7ced0d36b7c5496bc">g_config_data_buffer</a> = NULL; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../de/d45/cipioconnection_8h.html#ad20328302a359540d55f48ae36f7237d">   70</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#ad20328302a359540d55f48ae36f7237d">g_config_data_length</a> = 0; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a4901ec04ad1ac886626e556c60f12196">   72</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a4901ec04ad1ac886626e556c60f12196">g_run_idle_state</a>; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#ac1ef9c10ff4921452840b0de66bb12cf">   74</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#ac1ef9c10ff4921452840b0de66bb12cf">ProcessProductionInhibitTime</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *io_connection_object)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a40e6630a28ca2e52e3f57b010035cbc0a66cd7ba622075121f11c67671a1d8645">kConnectionObjectTransportClassTriggerProductionTriggerCyclic</a></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;       == <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ad29970b643c2677739c3f0e0a7a58f37">ConnectionObjectGetTransportClassTriggerProductionTrigger</a>(</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;         io_connection_object) ) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> ( 256 ==</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;         <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a2d8f4835df1f11d188736b854d28e7d9">ConnectionObjectGetProductionInhibitTime</a>(io_connection_object) ) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <a class="code" href="../../d1/d1b/trace_8h.html#a9a8a4741005c175e598afc162f68982a">OPENER_TRACE_INFO</a>(<span class="stringliteral">&quot;No PIT segment available\n&quot;</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="comment">/* there was no PIT segment in the connection path; set PIT to one fourth of RPI */</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a2e4314abc5d0e4684f16b1bc91088e7b">ConnectionObjectSetProductionInhibitTime</a>(io_connection_object,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                               <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a5a8dca52f318b4aca92f10de1c1072fc">ConnectionObjectGetTToORequestedPacketInterval</a>(</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                                 io_connection_object)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                               / 4000);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="comment">/* If a production inhibit time is provided, it needs to be smaller than the Requested Packet Interval */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a2d8f4835df1f11d188736b854d28e7d9">ConnectionObjectGetProductionInhibitTime</a>(io_connection_object)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;           &gt; (<a class="code" href="../../df/d91/cipconnectionobject_8c.html#a5a8dca52f318b4aca92f10de1c1072fc">ConnectionObjectGetTToORequestedPacketInterval</a>(</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                io_connection_object)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;              / 1000) ) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="comment">/* see section C-1.4.3.3 */</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a99741924898d08d2539703ac8bb1c9b0">kConnectionManagerExtendedStatusCodeRpiNotSupported</a>; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a299259d157a6ac077f1c5c8904ceaef8">kConnectionManagerExtendedStatusCodeSuccess</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#ab3282f146a3ea91c90cf14c32206ee8c">  101</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#ab3282f146a3ea91c90cf14c32206ee8c">SetIoConnectionCallbacks</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *<span class="keyword">const</span> io_connection_object) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa1cbdb9fe8b98c23e728f846a8b166a4">connection_close_function</a> = <a class="code" href="../../df/d03/cipioconnection_8c.html#a730b410a0cdbc6a456973c0e51568968">CloseIoConnection</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a5f34750287366fbfefb19e5e9c5433ff">connection_timeout_function</a> = <a class="code" href="../../df/d03/cipioconnection_8c.html#a7e4923f4b027d489d9933b52f6fd7007">HandleIoConnectionTimeOut</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8337f1c87be14116f6ebc5e50e746a0c">connection_send_data_function</a> = <a class="code" href="../../df/d03/cipioconnection_8c.html#a20f1bc1c4cc4470cf371f94d51814de2">SendConnectedData</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa764f4fb83441826b615422f18f4c5a2">connection_receive_data_function</a> =</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="../../df/d03/cipioconnection_8c.html#a73bfd5fa3bc96e11219d0b24d70b88c7">HandleReceivedIoConnectionData</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#ac00a39ab755db54e4abf917618ff9849">  109</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#ac00a39ab755db54e4abf917618ff9849">SetupIoConnectionOriginatorToTargetConnectionPoint</a>(</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *<span class="keyword">const</span> io_connection_object,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *<span class="keyword">const</span> RESTRICT connection_object</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  ) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="../../da/d8e/structcip__class.html">CipClass</a> *<span class="keyword">const</span> assembly_class = <a class="code" href="../../d2/dc9/group__CIP__API.html#ga98bd609c80ece316406363575b4a89ea">GetCipClass</a>(kCipAssemblyClassCode);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="../../d5/dc5/structcip__instance.html">CipInstance</a> *instance = NULL;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">if</span> ( NULL</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;       != ( instance =</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;              <a class="code" href="../../d2/dc9/group__CIP__API.html#gaa50395aca91b378c297d6ad919df210e">GetCipInstance</a>(</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                assembly_class,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a27028c320baa22cd19299de5580da173">consumed_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>) ) ) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">/* consuming Connection Point is present */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#adc233577b4d61f10079dad1640bf58b9">consuming_instance</a> = instance;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac13e63588a60dbbbaa40c844e57c8d1f">consumed_connection_path_length</a> = 6;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">/*io_connection_object-&gt;consumed_path.class_id =</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">       io_connection_object-&gt;connection_path.class_id;</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">       io_connection_object-&gt;consumed_connection_path.instance_number =</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">       io_connection_object-&gt;connection_path.connection_point[</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">        kConnectionPointConsumer];*/</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a27028c320baa22cd19299de5580da173">consumed_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#a8e06df09d8e84593faaf7f3bfa5b5e6f">attribute_id_or_connection_point</a> = 3;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">int</span> data_size = <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ac8eec747e3eb538b8208f84bb1cd876c">ConnectionObjectGetOToTConnectionSize</a>(io_connection_object);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">int</span> diff_size = 0;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">/* an assembly object should always have an attribute 3 */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="../../d4/d62/structCipAttributeStruct.html">CipAttributeStruct</a> *attribute = <a class="code" href="../../d2/dc9/group__CIP__API.html#ga5a14c8d76acacb09312b709bb0a76265">GetCipAttribute</a>(instance,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                                    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a27028c320baa22cd19299de5580da173">consumed_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#a8e06df09d8e84593faaf7f3bfa5b5e6f">attribute_id_or_connection_point</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h.html#a7b5e7d71f666ba97788b35be1617c40a">OPENER_ASSERT</a>(attribute != NULL)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">bool</span> is_heartbeat = ( ( (<a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *) attribute-&gt;<a class="code" href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">data</a> )-&gt;length == 0 );</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a7d9579ba2ab49ebf08a1e8b124f7c68fa3985efbf81d9660d0969a318d03fe3f6">kConnectionObjectTransportClassTriggerTransportClass1</a></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;         == <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a0f3d8e6f21712dbef3fb2e1da42f35ba">ConnectionObjectGetTransportClassTriggerTransportClass</a>(</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;           io_connection_object) ) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <span class="comment">/* class 1 connection */</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      data_size -= 2; <span class="comment">/* remove 16-bit sequence count length */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      diff_size += 2;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> ( (kOpenerConsumedDataHasRunIdleHeader) &amp;&amp; (data_size &gt; 0)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;         &amp;&amp; (!is_heartbeat) ) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <span class="comment">/* we only have an run idle header if it is not an heartbeat connection */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      data_size -= 4; <span class="comment">/* remove the 4 bytes needed for run/idle header */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      diff_size += 4;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> ( ( (<a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *) attribute-&gt;<a class="code" href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">data</a> )-&gt;length != data_size ) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="comment">/*wrong connection size */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      connection_object-&gt;correct_originator_to_target_size =</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        ( (<a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *) attribute-&gt;<a class="code" href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">data</a> )-&gt;length + diff_size;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a3607b492711350b9d9979df218f0949d">kConnectionManagerExtendedStatusCodeErrorInvalidOToTConnectionSize</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a40a08a853d51ce12008d4c935dbef985">kConnectionManagerExtendedStatusCodeInvalidConsumingApplicationPath</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a299259d157a6ac077f1c5c8904ceaef8">kConnectionManagerExtendedStatusCodeSuccess</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a4efa3b0cf11b363c8c5f4f8c8070b43f">  162</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a4efa3b0cf11b363c8c5f4f8c8070b43f">SetupIoConnectionTargetToOriginatorConnectionPoint</a>(</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *<span class="keyword">const</span> io_connection_object,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *<span class="keyword">const</span> RESTRICT connection_object</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  ) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="../../df/d2f/structdoubly__linked__list__node.html">DoublyLinkedListNode</a> *node = <a class="code" href="../../d1/dc0/appcontype_8h.html#ab314e92264a974f6b8aef1327e546e2e">connection_list</a>.<a class="code" href="../../dd/de5/structDoublyLinkedList.html#a0c42f2f515a845457c2f8139136d77d0">first</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">while</span> (NULL != node &amp;&amp;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;         <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa8f7d20eb5adeb31d45a0bfb62dbefe9b">kConnectionObjectConnectionTypeMulticast</a> ==</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;         <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ad61ad2b2c18480a141e5df346e32be02">ConnectionObjectGetTToOConnectionType</a>(io_connection_object) ) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *iterator = node-&gt;<a class="code" href="../../df/d2f/structdoubly__linked__list__node.html#a2e39fa639f2c160c7ba295cb583ca953">data</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span>(io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a> ==</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;       iterator-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="comment">//Check parameters</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a5a8dca52f318b4aca92f10de1c1072fc">ConnectionObjectGetTToORequestedPacketInterval</a>(io_connection_object)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          !=</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;          <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a5a8dca52f318b4aca92f10de1c1072fc">ConnectionObjectGetTToORequestedPacketInterval</a>(iterator) ) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a6291dd8e01f32f0193aac33ebf902ec3">kConnectionManagerExtendedStatusCodeErrorRpiValuesNotAcceptable</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a3eb72e7befca17493e2cec4ebfda8552">ConnectionObjectGetTToOConnectionSizeType</a>(</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            io_connection_object) !=</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a3eb72e7befca17493e2cec4ebfda8552">ConnectionObjectGetTToOConnectionSizeType</a>(</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            iterator) ) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">return</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;          <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a343534a00fd90f7b8aa594e0208729cf">kConnectionManagerExtendedStatusCodeMismatchedTToONetworkConnectionFixVar</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="../../df/d91/cipconnectionobject_8c.html#aeee7026822ffa05ebabab57a0eed1665">ConnectionObjectGetTToOPriority</a>(io_connection_object) !=</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;           <a class="code" href="../../df/d91/cipconnectionobject_8c.html#aeee7026822ffa05ebabab57a0eed1665">ConnectionObjectGetTToOPriority</a>(iterator) ) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759ae7afa5d3624f0bbb17e53ba60fd954ab">kConnectionManagerExtendedStatusCodeMismatchedTToONetworkConnectionPriority</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a0f3d8e6f21712dbef3fb2e1da42f35ba">ConnectionObjectGetTransportClassTriggerTransportClass</a>(</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            io_connection_object) !=</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a0f3d8e6f21712dbef3fb2e1da42f35ba">ConnectionObjectGetTransportClassTriggerTransportClass</a>(iterator) ) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a13f9ddcd3a2500918f93cf815106996e">kConnectionManagerExtendedStatusCodeMismatchedTransportClass</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ad29970b643c2677739c3f0e0a7a58f37">ConnectionObjectGetTransportClassTriggerProductionTrigger</a>(</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            io_connection_object) !=</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ad29970b643c2677739c3f0e0a7a58f37">ConnectionObjectGetTransportClassTriggerProductionTrigger</a>(iterator) )</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">return</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;          <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759ab4e28712221560fc4ea27d27becb378b">kConnectionManagerExtendedStatusCodeMismatchedTToOProductionTrigger</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">if</span>( <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a2d8f4835df1f11d188736b854d28e7d9">ConnectionObjectGetProductionInhibitTime</a>(io_connection_object) !=</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;          <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a2d8f4835df1f11d188736b854d28e7d9">ConnectionObjectGetProductionInhibitTime</a>(iterator) ) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">return</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a6f912658085869a4e4b341c8ec13c16c">kConnectionManagerExtendedStatusCodeMismatchedTToOProductionInhibitTimeSegment</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    node = node-&gt;<a class="code" href="../../df/d2f/structdoubly__linked__list__node.html#aff605e502e98b61844dc494a0103b462">next</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">/*setup producer side*/</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="../../da/d8e/structcip__class.html">CipClass</a> *<span class="keyword">const</span> assembly_class = <a class="code" href="../../d2/dc9/group__CIP__API.html#ga98bd609c80ece316406363575b4a89ea">GetCipClass</a>(kCipAssemblyClassCode);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="../../d5/dc5/structcip__instance.html">CipInstance</a> *instance = NULL;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> ( NULL</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;       != ( instance =</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;              <a class="code" href="../../d2/dc9/group__CIP__API.html#gaa50395aca91b378c297d6ad919df210e">GetCipInstance</a>(</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                assembly_class,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>) ) ) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac60f1a2ace4207cfd21d6f1ca0c5449b">producing_instance</a> = instance;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordtype">int</span> data_size = <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ae90368c85cedeaa7a56fb0eae81eeef2">ConnectionObjectGetTToOConnectionSize</a>(io_connection_object);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">int</span> diff_size = 0;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">/* an assembly object should always have an attribute 3 */</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#a8e06df09d8e84593faaf7f3bfa5b5e6f">attribute_id_or_connection_point</a> = 3;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="../../d4/d62/structCipAttributeStruct.html">CipAttributeStruct</a> *attribute = <a class="code" href="../../d2/dc9/group__CIP__API.html#ga5a14c8d76acacb09312b709bb0a76265">GetCipAttribute</a>(instance,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                                    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#a8e06df09d8e84593faaf7f3bfa5b5e6f">attribute_id_or_connection_point</a>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h.html#a7b5e7d71f666ba97788b35be1617c40a">OPENER_ASSERT</a>(attribute != NULL)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">bool</span> is_heartbeat = ( ( (<a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *) attribute-&gt;<a class="code" href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">data</a> )-&gt;length == 0 );</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a7d9579ba2ab49ebf08a1e8b124f7c68fa3985efbf81d9660d0969a318d03fe3f6">kConnectionObjectTransportClassTriggerTransportClass1</a> ==</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;         <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a0f3d8e6f21712dbef3fb2e1da42f35ba">ConnectionObjectGetTransportClassTriggerTransportClass</a>(</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;           io_connection_object) ) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="comment">/* class 1 connection */</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      data_size -= 2; <span class="comment">/* remove 16-bit sequence count length */</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      diff_size += 2;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> ( (kOpenerProducedDataHasRunIdleHeader) &amp;&amp; (data_size &gt; 0)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         &amp;&amp; (!is_heartbeat) ) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="comment">/* we only have an run idle header if it is not an heartbeat connection */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      data_size -= 4; <span class="comment">/* remove the 4 bytes needed for run/idle header */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      diff_size += 4;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> ( ( (<a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *) attribute-&gt;<a class="code" href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">data</a> )-&gt;length != data_size ) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="comment">/*wrong connection size*/</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      connection_object-&gt;correct_target_to_originator_size =</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        ( (<a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *) attribute-&gt;<a class="code" href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">data</a> )-&gt;length + diff_size;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759adc76a9410b4fab054d9b4e17d0c5b067">kConnectionManagerExtendedStatusCodeErrorInvalidTToOConnectionSize</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759ab31ee32e147e66520a313f02c5875510">kConnectionManagerExtendedStatusCodeInvalidProducingApplicationPath</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a299259d157a6ac077f1c5c8904ceaef8">kConnectionManagerExtendedStatusCodeSuccess</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="../../de/d45/cipioconnection_8h.html#a43e270b3f9b9f6296b12285c320c95aa">  272</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a43e270b3f9b9f6296b12285c320c95aa">EstablishIoConnection</a>(</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *RESTRICT <span class="keyword">const</span> connection_object,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> *<span class="keyword">const</span> extended_error</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  ) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> eip_status = <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *io_connection_object = <a class="code" href="../../d1/dbc/appcontype_8c.html#ab3a019a2217375c098345317da123323">GetIoConnectionForConnectionData</a>(</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    connection_object,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    extended_error);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">if</span>(NULL == io_connection_object) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  *extended_error = <a class="code" href="../../df/d03/cipioconnection_8c.html#ac1ef9c10ff4921452840b0de66bb12cf">ProcessProductionInhibitTime</a>(io_connection_object);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span>(0 != *extended_error) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="../../df/d03/cipioconnection_8c.html#ab3282f146a3ea91c90cf14c32206ee8c">SetIoConnectionCallbacks</a>(io_connection_object);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a65b85bb4b72c902af06e054e24d6292c">ConnectionObjectGeneralConfiguration</a>(io_connection_object);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091a">ConnectionObjectConnectionType</a> originator_to_target_connection_type =</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="../../df/d91/cipconnectionobject_8c.html#aa896ebb7d03c6e75027402b3e0d6dc6e">ConnectionObjectGetOToTConnectionType</a>(io_connection_object);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091a">ConnectionObjectConnectionType</a> target_to_originator_connection_type =</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ad61ad2b2c18480a141e5df346e32be02">ConnectionObjectGetTToOConnectionType</a>(io_connection_object);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h.html#a7b5e7d71f666ba97788b35be1617c40a">OPENER_ASSERT</a>( !(originator_to_target_connection_type ==</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                   <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa489c722263e053ad7efbdb06f1ea7466">kConnectionObjectConnectionTypeNull</a> &amp;&amp;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                   target_to_originator_connection_type ==</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                   <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa489c722263e053ad7efbdb06f1ea7466">kConnectionObjectConnectionTypeNull</a>) )</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#adc233577b4d61f10079dad1640bf58b9">consuming_instance</a> = NULL;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac13e63588a60dbbbaa40c844e57c8d1f">consumed_connection_path_length</a> = 0;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac60f1a2ace4207cfd21d6f1ca0c5449b">producing_instance</a> = NULL;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a253879a49e8decd615b8abdaa6b1d5db">produced_connection_path_length</a> = 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">/* we don&#39;t need to check for zero as this is handled in the connection path parsing */</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (originator_to_target_connection_type !=</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa489c722263e053ad7efbdb06f1ea7466">kConnectionObjectConnectionTypeNull</a>) {                                         <span class="comment">/*setup consumer side*/</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    *extended_error = <a class="code" href="../../df/d03/cipioconnection_8c.html#ac00a39ab755db54e4abf917618ff9849">SetupIoConnectionOriginatorToTargetConnectionPoint</a>(</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      io_connection_object,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      connection_object);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a299259d157a6ac077f1c5c8904ceaef8">kConnectionManagerExtendedStatusCodeSuccess</a> != *extended_error) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (target_to_originator_connection_type !=</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa489c722263e053ad7efbdb06f1ea7466">kConnectionObjectConnectionTypeNull</a>) {                                         <span class="comment">/*setup producer side*/</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    *extended_error = <a class="code" href="../../df/d03/cipioconnection_8c.html#a4efa3b0cf11b363c8c5f4f8c8070b43f">SetupIoConnectionTargetToOriginatorConnectionPoint</a>(</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      io_connection_object,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      connection_object);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a299259d157a6ac077f1c5c8904ceaef8">kConnectionManagerExtendedStatusCodeSuccess</a> != *extended_error) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (NULL != <a class="code" href="../../df/d03/cipioconnection_8c.html#a534c0a24266039f7ced0d36b7c5496bc">g_config_data_buffer</a>) { <span class="comment">/* config data has been sent with this forward open request */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    *extended_error = <a class="code" href="../../df/d03/cipioconnection_8c.html#a68b99df85d462657b12a854316c168f5">HandleConfigData</a>(io_connection_object);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a299259d157a6ac077f1c5c8904ceaef8">kConnectionManagerExtendedStatusCodeSuccess</a> != *extended_error) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  eip_status = <a class="code" href="../../df/d03/cipioconnection_8c.html#a53b85bce88b582414fc282c95f5626f4">OpenCommunicationChannels</a>(io_connection_object);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a> != eip_status) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    *extended_error = 0; <span class="comment">/*TODO find out the correct extended error code*/</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> eip_status;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="../../d5/d35/cipconnectionmanager_8c.html#aac2c0397cf54cb8356126c0d71d744ff">AddNewActiveConnection</a>(io_connection_object);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#gac9c9ad2c2254b783e7b447bd84eba8c0">CheckIoConnectionEvent</a>(</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a27028c320baa22cd19299de5580da173">consumed_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    io_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="../../df/d28/ciptypes_8h.html#a1a7498137431124c4dde66e95095c2d2a6516f9d6e660daf124379a38608434e2">kIoConnectionEventOpened</a>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">return</span> eip_status;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#add645b42730b2cea369523949c6b9745">  363</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#add645b42730b2cea369523949c6b9745">OpenConsumingPointToPointConnection</a>(</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *<span class="keyword">const</span> connection_object,</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *<span class="keyword">const</span> common_packet_format_data</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  ) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordtype">int</span> j = 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[0].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> == 0) { <span class="comment">/* it is not used yet */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    j = 0;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[1].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> == 0) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    j = 1;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keyword">struct </span>sockaddr_in addr =</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  { .sin_family = AF_INET, .sin_addr.s_addr = INADDR_ANY, .sin_port = htons(</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <a class="code" href="../../df/d03/cipioconnection_8c.html#a46f1aa5e4d7142036318ba3c9f2707ea">kOpenerEipIoUdpPort</a>) };</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#a378b726bef4c65cb2ec1c1cdf1205f52">CipUsint</a> qos_for_socket = <a class="code" href="../../df/d91/cipconnectionobject_8c.html#aeee7026822ffa05ebabab57a0eed1665">ConnectionObjectGetTToOPriority</a>(connection_object);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordtype">int</span> socket = <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#ga5807bcc51621775c9aedbf58d3a7a6d3">CreateUdpSocket</a>(<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7">kUdpCommuncationDirectionConsuming</a>,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                               &amp;addr,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                               qos_for_socket);                                            <span class="comment">/* the address is only needed for bind used if consuming */</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">if</span> (socket == kEipInvalidSocket) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="stringliteral">&quot;cannot create UDP socket in OpenPointToPointConnection\n&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ae86f8f5b3ccc7aa691e24d404e051db8">originator_address</a> = addr; <span class="comment">/* store the address of the originator for packet scanning */</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  addr.sin_addr.s_addr = INADDR_ANY; <span class="comment">/* restore the address */</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7">kUdpCommuncationDirectionConsuming</a>] = socket;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a8933e644c7191ea8f5a22401b2e6a6fa">length</a> = 16;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> =</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623">kCipItemIdSocketAddressInfoOriginatorToTarget</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a3f7a4600643a87742112758468b42146">sin_port</a> = addr.sin_port;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">/*TODO should we add our own address here? */</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a46921af5bef9ee04546194f8d19d3163">sin_addr</a> = addr.sin_addr</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                                             .s_addr;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  memset(common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#abaf556494b9fea3137c6c45522ab9bda">nasin_zero</a>, 0, 8);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a6698e4b44eeaf0795025d0be524b8e8a">sin_family</a> = htons(AF_INET);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#aa3b58fd216ec6712abc29ef84b33006d">  408</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#aa3b58fd216ec6712abc29ef84b33006d">OpenProducingPointToPointConnection</a>(</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  ) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="../../db/d9c/WIN32_2sample__application_2opener__user__conf_8h.html#adc5174418a78989eb51ef56f622db6e3">in_port_t</a> port = htons(<a class="code" href="../../df/d03/cipioconnection_8c.html#a46f1aa5e4d7142036318ba3c9f2707ea">kOpenerEipIoUdpPort</a>); <span class="comment">/* the default port to be used if no port information is part of the forward open request */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      == common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[0].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a>) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    port = common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[0].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a3f7a4600643a87742112758468b42146">sin_port</a>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        == common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[1].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a>) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      port = common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[1].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a3f7a4600643a87742112758468b42146">sin_port</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>.sin_family = AF_INET;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>.sin_addr.s_addr = 0; <span class="comment">/* we don&#39;t know the address of the originate will be set in the IApp_CreateUDPSocket */</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>.sin_port = port;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#a378b726bef4c65cb2ec1c1cdf1205f52">CipUsint</a> qos_for_socket = <a class="code" href="../../df/d91/cipconnectionobject_8c.html#aeee7026822ffa05ebabab57a0eed1665">ConnectionObjectGetTToOPriority</a>(connection_object);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordtype">int</span> socket = <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#ga5807bcc51621775c9aedbf58d3a7a6d3">CreateUdpSocket</a>(<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>,</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                               &amp;connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                               qos_for_socket);                                     <span class="comment">/* the address is only needed for bind used if consuming */</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">if</span> (socket == kEipInvalidSocket) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="stringliteral">&quot;cannot create UDP socket in OpenPointToPointConnection\n&quot;</span>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">/* *pa_pnExtendedError = 0x0315; miscellaneous*/</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] = socket;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a5dea6fc1be0ed4ecf5d9e4f932d52106">  443</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a5dea6fc1be0ed4ecf5d9e4f932d52106">OpenProducingMulticastConnection</a>(</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  ) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *existing_connection_object =</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="../../d1/dbc/appcontype_8c.html#ac568876f2c5ba2da91a0e62e17e27432">GetExistingProducerMulticastConnection</a>(</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordtype">int</span> j = 0; <span class="comment">/* allocate an unused sockaddr struct to use */</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d91/group__ENCAP.html#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a>.<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[0].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> == 0) { <span class="comment">/* it is not used yet */</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    j = 0;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d4/d91/group__ENCAP.html#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a>.<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[1].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;             == 0) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    j = 1;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordtype">int</span> port = htons(<a class="code" href="../../df/d03/cipioconnection_8c.html#a46f1aa5e4d7142036318ba3c9f2707ea">kOpenerEipIoUdpPort</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a> !=</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;     common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a>) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    port = common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a3f7a4600643a87742112758468b42146">sin_port</a>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> =</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">if</span> (NULL == existing_connection_object) { <span class="comment">/* we are the first connection producing for the given Input Assembly */</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#a9e2ce4666173987646cf60ce3422d7b4">OpenMulticastConnection</a>(<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>,</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                   connection_object,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                   common_packet_format_data);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">/* we need to inform our originator on the correct connection id */</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa15c489fd122eb15edd5125c46b0430b">cip_produced_connection_id</a> = existing_connection_object</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                                                    -&gt;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                                    cip_produced_connection_id;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">/* we have a connection reuse the data and the socket */</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5aba868ab030f24ecf41724bed2fadfe4caa">kConnectionObjectInstanceTypeIOExclusiveOwner</a> ==</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a772a8a668d0b49599ebf8e972443bbca">instance_type</a>) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">/* exclusive owners take the socket and further manage the connection</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">     * especially in the case of time outs.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] =</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      existing_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>];</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    existing_connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] =</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      kEipInvalidSocket;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  } <span class="keywordflow">else</span> { <span class="comment">/* this connection will not produce the data */</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] =</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      kEipInvalidSocket;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a8933e644c7191ea8f5a22401b2e6a6fa">length</a> = 16;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>.sin_family = AF_INET;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>.sin_port = common_packet_format_data</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                                               -&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a3f7a4600643a87742112758468b42146">sin_port</a></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                                 = port;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>.sin_addr.s_addr = common_packet_format_data</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                                                      -&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                                      sin_addr =</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                                        <a class="code" href="../../dd/d20/ciptcpipinterface_8c.html#a3b13a18a3f6efcb8f2e651676096f4e5">g_multicast_configuration</a></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                                        .</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                                        starting_multicast_address;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  memset(common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#abaf556494b9fea3137c6c45522ab9bda">nasin_zero</a>, 0, 8);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a6698e4b44eeaf0795025d0be524b8e8a">sin_family</a> = htons(AF_INET);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a9e2ce4666173987646cf60ce3422d7b4">  520</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a9e2ce4666173987646cf60ce3422d7b4">OpenMulticastConnection</a>(</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42">UdpCommuncationDirection</a> direction,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  ) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordtype">int</span> j = -1;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordtype">int</span> address_info_item_which_contains_o_to_t = -1;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordtype">int</span> address_info_item_which_contains_t_to_o = -1;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623">kCipItemIdSocketAddressInfoOriginatorToTarget</a></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;     == common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[0].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a>) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    address_info_item_which_contains_o_to_t = 0;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623">kCipItemIdSocketAddressInfoOriginatorToTarget</a></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            == common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[1].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a>) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    address_info_item_which_contains_o_to_t = 1;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="../../d1/d1b/trace_8h.html#a9a8a4741005c175e598afc162f68982a">OPENER_TRACE_INFO</a>(<span class="stringliteral">&quot;No O-&gt;T Sockaddr info available\n&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;     == common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[0].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a>) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    address_info_item_which_contains_t_to_o = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            == common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[1].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a>) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    address_info_item_which_contains_t_to_o = 1;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="../../d1/d1b/trace_8h.html#a9a8a4741005c175e598afc162f68982a">OPENER_TRACE_INFO</a>(<span class="stringliteral">&quot;No T-&gt;O Sockaddr info available\n&quot;</span>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7">kUdpCommuncationDirectionConsuming</a> == direction) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    j = address_info_item_which_contains_o_to_t;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a> == direction) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    j = address_info_item_which_contains_t_to_o;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">/*****************/</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> (-1 == j) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="stringliteral">&quot;no suitable addr info item available / O-&gt;T: %d, T-&gt;O: %d, Selector: %d, direction: %d\n&quot;</span>,</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      address_info_item_which_contains_o_to_t,</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      address_info_item_which_contains_t_to_o,</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      j,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      direction);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a> ==</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a>) {                                                  <span class="comment">/* we are using an unused item initialize it with the default multicast address */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a6698e4b44eeaf0795025d0be524b8e8a">sin_family</a> = htons(</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      AF_INET);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a3f7a4600643a87742112758468b42146">sin_port</a> = htons(</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <a class="code" href="../../df/d03/cipioconnection_8c.html#a46f1aa5e4d7142036318ba3c9f2707ea">kOpenerEipIoUdpPort</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a46921af5bef9ee04546194f8d19d3163">sin_addr</a> =</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <a class="code" href="../../dd/d20/ciptcpipinterface_8c.html#a3b13a18a3f6efcb8f2e651676096f4e5">g_multicast_configuration</a>.<a class="code" href="../../db/dd7/structmulticast__address__configuration.html#a983b98b7087072214bc4fc803b938df3">starting_multicast_address</a>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    memset(common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#abaf556494b9fea3137c6c45522ab9bda">nasin_zero</a>, 0, 8);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a8933e644c7191ea8f5a22401b2e6a6fa">length</a> = 16;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">if</span> (htons(AF_INET)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      != common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a6698e4b44eeaf0795025d0be524b8e8a">sin_family</a>) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="stringliteral">&quot;Sockaddr Info Item with wrong sin family value received\n&quot;</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">/* allocate an unused sockaddr struct to use */</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keyword">struct </span>sockaddr_in socket_address = {0};</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  socket_address.sin_family = ntohs(</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a6698e4b44eeaf0795025d0be524b8e8a">sin_family</a>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  socket_address.sin_addr.s_addr =</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a46921af5bef9ee04546194f8d19d3163">sin_addr</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  socket_address.sin_port = common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j]</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                            .<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#a3f7a4600643a87742112758468b42146">sin_port</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#a378b726bef4c65cb2ec1c1cdf1205f52">CipUsint</a> qos_for_socket = <a class="code" href="../../df/d91/cipconnectionobject_8c.html#aeee7026822ffa05ebabab57a0eed1665">ConnectionObjectGetTToOPriority</a>(connection_object);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordtype">int</span> socket = <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#ga5807bcc51621775c9aedbf58d3a7a6d3">CreateUdpSocket</a>(direction, &amp;socket_address, qos_for_socket); <span class="comment">/* the address is only needed for bind used if consuming */</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> (socket == kEipInvalidSocket) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(<span class="stringliteral">&quot;cannot create UDP socket in OpenMulticastConnection\n&quot;</span>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[direction] = socket;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordflow">if</span> (direction == <a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7">kUdpCommuncationDirectionConsuming</a>) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> =</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623">kCipItemIdSocketAddressInfoOriginatorToTarget</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ae86f8f5b3ccc7aa691e24d404e051db8">originator_address</a> = socket_address;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[j].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> =</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a> = socket_address;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a68b99df85d462657b12a854316c168f5">  619</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a68b99df85d462657b12a854316c168f5">HandleConfigData</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <a class="code" href="../../da/d8e/structcip__class.html">CipClass</a> *<span class="keyword">const</span> assembly_class = <a class="code" href="../../d2/dc9/group__CIP__API.html#ga98bd609c80ece316406363575b4a89ea">GetCipClass</a>(kCipAssemblyClassCode);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> connection_manager_status = 0;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <a class="code" href="../../d5/dc5/structcip__instance.html">CipInstance</a> *config_instance = <a class="code" href="../../d2/dc9/group__CIP__API.html#gaa50395aca91b378c297d6ad919df210e">GetCipInstance</a>(</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    assembly_class, connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#af1595add8f6d4e0f5bac19b7918c02ec">configuration_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (0 != <a class="code" href="../../df/d03/cipioconnection_8c.html#ad20328302a359540d55f48ae36f7237d">g_config_data_length</a>) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h.html#a7b5e7d71f666ba97788b35be1617c40a">OPENER_ASSERT</a>(NULL != config_instance)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="../../d1/dbc/appcontype_8c.html#ac869fbefb1f616eaa666fe659c224fe3">ConnectionWithSameConfigPointExists</a>(</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;           connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#af1595add8f6d4e0f5bac19b7918c02ec">configuration_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>) ) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="comment">/* there is a connected connection with the same config point</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">       * we have to have the same data as already present in the config point*/</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <a class="code" href="../../d4/d62/structCipAttributeStruct.html">CipAttributeStruct</a> *attribute_three = <a class="code" href="../../d2/dc9/group__CIP__API.html#ga5a14c8d76acacb09312b709bb0a76265">GetCipAttribute</a>(</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        config_instance,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        3);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h.html#a7b5e7d71f666ba97788b35be1617c40a">OPENER_ASSERT</a>(NULL != attribute_three)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> * attribute_three_data =</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        (<a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *) attribute_three-&gt;<a class="code" href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">data</a>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <a class="code" href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h.html#a7b5e7d71f666ba97788b35be1617c40a">OPENER_ASSERT</a>(NULL != attribute_three_data)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keywordflow">if</span> (attribute_three_data-&gt;<a class="code" href="../../de/dd7/structCipByteArray.html#a2fc468bacd1d1300da4286bb838b7f7b">length</a> != <a class="code" href="../../df/d03/cipioconnection_8c.html#ad20328302a359540d55f48ae36f7237d">g_config_data_length</a>) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        connection_manager_status =</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;          <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a81369fa2ff6c7f2165f3876c6eac1a03">kConnectionManagerExtendedStatusCodeErrorOwnershipConflict</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <a class="code" href="../../d1/d1b/trace_8h.html#a9a8a4741005c175e598afc162f68982a">OPENER_TRACE_INFO</a>(</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;          <span class="stringliteral">&quot;Hit an Ownership conflict in cipioconnection.c occurrence 1&quot;</span>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="comment">/*FIXME check if this is correct */</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">if</span> ( memcmp(attribute_three_data-&gt;<a class="code" href="../../de/dd7/structCipByteArray.html#ad1f95b3da0adfd2aeafd5db1d415a6b9">data</a>, <a class="code" href="../../df/d03/cipioconnection_8c.html#a534c0a24266039f7ced0d36b7c5496bc">g_config_data_buffer</a>,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    <a class="code" href="../../df/d03/cipioconnection_8c.html#ad20328302a359540d55f48ae36f7237d">g_config_data_length</a>) ) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;          connection_manager_status =</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a81369fa2ff6c7f2165f3876c6eac1a03">kConnectionManagerExtendedStatusCodeErrorOwnershipConflict</a>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;          <a class="code" href="../../d1/d1b/trace_8h.html#a9a8a4741005c175e598afc162f68982a">OPENER_TRACE_INFO</a>(</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="stringliteral">&quot;Hit an Ownership conflict in cipioconnection.c occurrence 2&quot;</span>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">/* put the data on the configuration assembly object with the current</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">         design this can be done rather efficiently */</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;           != <a class="code" href="../../df/d2e/cipassembly_8c.html#a5dc25129faf75858c0aeaa88ea8d9490">NotifyAssemblyConnectedDataReceived</a>(config_instance,</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                                                  <a class="code" href="../../df/d03/cipioconnection_8c.html#a534c0a24266039f7ced0d36b7c5496bc">g_config_data_buffer</a>,</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                                                  <a class="code" href="../../df/d03/cipioconnection_8c.html#ad20328302a359540d55f48ae36f7237d">g_config_data_length</a>) ) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="../../d1/d1b/trace_8h.html#aa1b39db9477c48695273170aff3c3a7a">OPENER_TRACE_WARN</a>(<span class="stringliteral">&quot;Configuration data was invalid\n&quot;</span>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        connection_manager_status =</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;          <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a27cf9777eb05383c79d0a8064f00db90">kConnectionManagerExtendedStatusCodeInvalidConfigurationApplicationPath</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">return</span> connection_manager_status;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a730b410a0cdbc6a456973c0e51568968">  670</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#a730b410a0cdbc6a456973c0e51568968">CloseIoConnection</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#gac9c9ad2c2254b783e7b447bd84eba8c0">CheckIoConnectionEvent</a>(connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a27028c320baa22cd19299de5580da173">consumed_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                         connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                         <a class="code" href="../../df/d28/ciptypes_8h.html#a1a7498137431124c4dde66e95095c2d2aef7d80152c2d6e1a5e7f64bf51801374">kIoConnectionEventClosed</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5aba868ab030f24ecf41724bed2fadfe4caa">kConnectionObjectInstanceTypeIOExclusiveOwner</a> ==</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;       <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a64d3a78bd3f520b632b04697bd0b2767">ConnectionObjectGetInstanceType</a>(connection_object)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;       || <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5abab018e791efab5611f65151a46a40854c">kConnectionObjectInstanceTypeIOInputOnly</a> ==</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;       <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a64d3a78bd3f520b632b04697bd0b2767">ConnectionObjectGetInstanceType</a>(connection_object) ) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> ( ( <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa8f7d20eb5adeb31d45a0bfb62dbefe9b">kConnectionObjectConnectionTypeMulticast</a></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;           == <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ad61ad2b2c18480a141e5df346e32be02">ConnectionObjectGetTToOConnectionType</a>(connection_object) )</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;         &amp;&amp; (kEipInvalidSocket</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;             != connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>]) )</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *next_non_control_master_connection =</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="../../d1/dbc/appcontype_8c.html#acda34462cc2d60ebb7b48a633bfe3c49">GetNextNonControlMasterConnection</a>(</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;          connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordflow">if</span> (NULL != next_non_control_master_connection) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="comment">/* Transfer socket ownership */</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        next_non_control_master_connection-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;          <a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] =</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;          connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>];</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] =</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          kEipInvalidSocket;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="comment">/* End */</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        memcpy( &amp;(next_non_control_master_connection-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>),</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                &amp;(connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>),</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <span class="keyword">sizeof</span>(next_non_control_master_connection-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>) );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        next_non_control_master_connection-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a2a01fa4a474e882c0884a7122c1a5834">eip_level_sequence_count_producing</a></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;          =</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a2a01fa4a474e882c0884a7122c1a5834">eip_level_sequence_count_producing</a>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        next_non_control_master_connection-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#adb77c52191a28697c2b7063a8f630522">sequence_count_producing</a> =</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;          connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#adb77c52191a28697c2b7063a8f630522">sequence_count_producing</a>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        next_non_control_master_connection-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac4b956f5790d2a6e6a825be1c85e378d">transmission_trigger_timer</a> =</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac4b956f5790d2a6e6a825be1c85e378d">transmission_trigger_timer</a>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">/* this was the last master connection close all listen only connections listening on the port */</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <a class="code" href="../../d1/dbc/appcontype_8c.html#a1181149fe4f853e43552e0b50e2f4d23">CloseAllConnectionsForInputWithSameType</a>(</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5aba798ef4c0d84ae03f5082185fb84f2eca">kConnectionObjectInstanceTypeIOListenOnly</a>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <a class="code" href="../../df/d03/cipioconnection_8c.html#a62fc61ed294b1d1543960582f0071b22">CloseCommunicationChannelsAndRemoveFromActiveConnectionsList</a>(</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    connection_object);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a7e4923f4b027d489d9933b52f6fd7007">  721</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#a7e4923f4b027d489d9933b52f6fd7007">HandleIoConnectionTimeOut</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#gac9c9ad2c2254b783e7b447bd84eba8c0">CheckIoConnectionEvent</a>(connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                         connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a27028c320baa22cd19299de5580da173">consumed_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                         <a class="code" href="../../df/d28/ciptypes_8h.html#a1a7498137431124c4dde66e95095c2d2a91f5cbaf05e3e1e95b9c262a851ae931">kIoConnectionEventTimedOut</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">if</span>(connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a71642c8a395c63ebd056867df5f71327">last_package_watchdog_timer</a> ==</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;     connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a12980d27282dccff87df1b3255bc39fd">inactivity_watchdog_timer</a>) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="../../d5/d35/cipconnectionmanager_8c.html#ac36c68122b200d1bc99fbe9fb35a3440">CheckForTimedOutConnectionsAndCloseTCPConnections</a>(connection_object,</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                                                      <a class="code" href="../../d2/dbd/encap_8c.html#a0101714be726ab1b21125b6a82ac7a56">CloseEncapsulationSessionBySockAddr</a>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa8f7d20eb5adeb31d45a0bfb62dbefe9b">kConnectionObjectConnectionTypeMulticast</a></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;       == <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ad61ad2b2c18480a141e5df346e32be02">ConnectionObjectGetTToOConnectionType</a>(connection_object) ) {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="../../df/d91/cipconnectionobject_8c.html#a64d3a78bd3f520b632b04697bd0b2767">ConnectionObjectGetInstanceType</a>(connection_object) ) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5aba868ab030f24ecf41724bed2fadfe4caa">kConnectionObjectInstanceTypeIOExclusiveOwner</a>:</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <a class="code" href="../../d1/dbc/appcontype_8c.html#a1181149fe4f853e43552e0b50e2f4d23">CloseAllConnectionsForInputWithSameType</a>(</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5abab018e791efab5611f65151a46a40854c">kConnectionObjectInstanceTypeIOInputOnly</a>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <a class="code" href="../../d1/dbc/appcontype_8c.html#a1181149fe4f853e43552e0b50e2f4d23">CloseAllConnectionsForInputWithSameType</a>(</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;          <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5aba798ef4c0d84ae03f5082185fb84f2eca">kConnectionObjectInstanceTypeIOListenOnly</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5abab018e791efab5611f65151a46a40854c">kConnectionObjectInstanceTypeIOInputOnly</a>:</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keywordflow">if</span> (kEipInvalidSocket</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            != connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>]) { <span class="comment">/* we are the controlling input only connection find a new controller*/</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *next_non_control_master_connection =</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <a class="code" href="../../d1/dbc/appcontype_8c.html#acda34462cc2d60ebb7b48a633bfe3c49">GetNextNonControlMasterConnection</a>(</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;              connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;          <span class="keywordflow">if</span> (NULL != next_non_control_master_connection) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            next_non_control_master_connection-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;              <a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] =</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;              connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>];</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] =</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;              kEipInvalidSocket;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            next_non_control_master_connection-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac4b956f5790d2a6e6a825be1c85e378d">transmission_trigger_timer</a> =</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;              connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac4b956f5790d2a6e6a825be1c85e378d">transmission_trigger_timer</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;          } <span class="keywordflow">else</span> { <span class="comment">/* this was the last master connection close all listen only connections listening on the port */</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <a class="code" href="../../d1/dbc/appcontype_8c.html#a1181149fe4f853e43552e0b50e2f4d23">CloseAllConnectionsForInputWithSameType</a>(</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;              connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">produced_path</a>.<a class="code" href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">instance_id</a>,</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;              <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5aba798ef4c0d84ae03f5082185fb84f2eca">kConnectionObjectInstanceTypeIOListenOnly</a>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;          }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ace0a978d1b7fe59261b1024b5ba1cd15">ConnectionObjectSetState</a>(connection_object, <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a07601b1d58bee031fad7dc056fb89117a43eb1272dcbc2027a0d4bb64ab8d8d0d">kConnectionObjectStateTimedOut</a>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a20f1bc1c4cc4470cf371f94d51814de2">  772</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a20f1bc1c4cc4470cf371f94d51814de2">SendConnectedData</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object) {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">/* TODO think of adding an own send buffer to each connection object in order to preset up the whole message on connection opening and just change the variable data items e.g., sequence number */</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data =</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    &amp;<a class="code" href="../../d4/d91/group__ENCAP.html#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="comment">/* TODO think on adding a CPF data item to the S_CIP_ConnectionObject in order to remove the code here or even better allocate memory in the connection object for storing the message to send and just change the application data*/</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a2a01fa4a474e882c0884a7122c1a5834">eip_level_sequence_count_producing</a>++;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="comment">/* assembleCPFData */</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a7ff1108c27f9ebe1d69305311c6b234b">item_count</a> = 2;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a7d9579ba2ab49ebf08a1e8b124f7c68fa848be73a997600d2bfdac37d0520dfc0">kConnectionObjectTransportClassTriggerTransportClass0</a> !=</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;       <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a0f3d8e6f21712dbef3fb2e1da42f35ba">ConnectionObjectGetTransportClassTriggerTransportClass</a>(connection_object) )</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  {                                                                                <span class="comment">/* use Sequenced Address Items if not Connection Class 0 */</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a6f7f7299bfdc600609c9b9f8fc55ac5b">address_item</a>.<a class="code" href="../../d3/d56/structAddressItem.html#a9b3cf54385b7e3db0c41d4d394c2d465">type_id</a> =</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1">kCipItemIdSequencedAddressItem</a>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a6f7f7299bfdc600609c9b9f8fc55ac5b">address_item</a>.<a class="code" href="../../d3/d56/structAddressItem.html#a8651f8610143cd0ef830abdc1fcf00b2">length</a> = 8;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a6f7f7299bfdc600609c9b9f8fc55ac5b">address_item</a>.<a class="code" href="../../d3/d56/structAddressItem.html#ae405cdded64b36b5bbad607ea251865a">data</a>.<a class="code" href="../../d9/da2/structAddressData.html#a41d4480ab2d89c04cd9211586be88ba5">sequence_number</a> =</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a2a01fa4a474e882c0884a7122c1a5834">eip_level_sequence_count_producing</a>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a6f7f7299bfdc600609c9b9f8fc55ac5b">address_item</a>.<a class="code" href="../../d3/d56/structAddressItem.html#a9b3cf54385b7e3db0c41d4d394c2d465">type_id</a> =</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f">kCipItemIdConnectionAddress</a>;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a6f7f7299bfdc600609c9b9f8fc55ac5b">address_item</a>.<a class="code" href="../../d3/d56/structAddressItem.html#a8651f8610143cd0ef830abdc1fcf00b2">length</a> = 4;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a6f7f7299bfdc600609c9b9f8fc55ac5b">address_item</a>.<a class="code" href="../../d3/d56/structAddressItem.html#ae405cdded64b36b5bbad607ea251865a">data</a>.<a class="code" href="../../d9/da2/structAddressData.html#a955e0fc2a462a58b78f0da83df66a307">connection_identifier</a> =</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa15c489fd122eb15edd5125c46b0430b">cip_produced_connection_id</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">data_item</a>.<a class="code" href="../../de/d71/structDataItem.html#acf4b53bdfe8766830d313e9c7e1cf5dc">type_id</a> = <a class="code" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217">kCipItemIdConnectedDataItem</a>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *producing_instance_attributes =</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    (<a class="code" href="../../de/dd7/structCipByteArray.html">CipByteArray</a> *) connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac60f1a2ace4207cfd21d6f1ca0c5449b">producing_instance</a>-&gt;<a class="code" href="../../d5/dc5/structcip__instance.html#ada5c4109b95cb6635f4aa32a2e6d74bf">attributes</a>-&gt;<a class="code" href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">data</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">data_item</a>.<a class="code" href="../../de/d71/structDataItem.html#a70de504e7692ab2c73be4c96911c9b05">length</a> = 0;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">/* notify the application that data will be sent immediately after the call */</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  if ( <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#ga098272a8ae10facf3086c5c82a0080db">BeforeAssemblyDataSend</a>(connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ac60f1a2ace4207cfd21d6f1ca0c5449b">producing_instance</a>) ) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">/* the data has changed increase sequence counter */</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#adb77c52191a28697c2b7063a8f630522">sequence_count_producing</a>++;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="comment">/* set AddressInfo Items to invalid Type */</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[0].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> = 0;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">address_info_item</a>[1].<a class="code" href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">type_id</a> = 0;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="../../d3/d4a/structenip__message.html">ENIPMessage</a> outgoing_message = {0};</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <a class="code" href="../../da/de0/enipmessage_8c.html#a3bc72c361822172e328654abb263c1a7">InitializeENIPMessage</a>(&amp;outgoing_message);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> reply_length = <a class="code" href="../../d4/d91/group__ENCAP.html#ga137d29fba9dd744ed2e9323bf75e0bba">AssembleIOMessage</a>(common_packet_format_data,</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                                             &amp;outgoing_message);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a3967b4c7085e44ccfe089cba79b974e1">current_message_position</a> -= 2;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">data_item</a>.<a class="code" href="../../de/d71/structDataItem.html#a70de504e7692ab2c73be4c96911c9b05">length</a> = producing_instance_attributes</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                                                -&gt;<a class="code" href="../../de/dd7/structCipByteArray.html#a2fc468bacd1d1300da4286bb838b7f7b">length</a>;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">if</span> (kOpenerProducedDataHasRunIdleHeader) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">data_item</a>.<a class="code" href="../../de/d71/structDataItem.html#a70de504e7692ab2c73be4c96911c9b05">length</a> += 4;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a7d9579ba2ab49ebf08a1e8b124f7c68fa3985efbf81d9660d0969a318d03fe3f6">kConnectionObjectTransportClassTriggerTransportClass1</a> ==</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a0f3d8e6f21712dbef3fb2e1da42f35ba">ConnectionObjectGetTransportClassTriggerTransportClass</a>(connection_object) )</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">data_item</a>.<a class="code" href="../../de/d71/structDataItem.html#a70de504e7692ab2c73be4c96911c9b05">length</a> += 2;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="../../d4/d91/group__ENCAP.html#gae689aac2a85bf49fb356ec94c8800799">AddIntToMessage</a>(common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">data_item</a>.<a class="code" href="../../de/d71/structDataItem.html#a70de504e7692ab2c73be4c96911c9b05">length</a>,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                    &amp;outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a3967b4c7085e44ccfe089cba79b974e1">current_message_position</a>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="../../d4/d91/group__ENCAP.html#gae689aac2a85bf49fb356ec94c8800799">AddIntToMessage</a>(connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#adb77c52191a28697c2b7063a8f630522">sequence_count_producing</a>,</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    &amp;outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a3967b4c7085e44ccfe089cba79b974e1">current_message_position</a>);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="../../d4/d91/group__ENCAP.html#gae689aac2a85bf49fb356ec94c8800799">AddIntToMessage</a>(common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">data_item</a>.<a class="code" href="../../de/d71/structDataItem.html#a70de504e7692ab2c73be4c96911c9b05">length</a>,</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    &amp;outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a3967b4c7085e44ccfe089cba79b974e1">current_message_position</a>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (kOpenerProducedDataHasRunIdleHeader) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="../../d4/d91/group__ENCAP.html#gaafc3c9e3ff582c9b7e438ae2b1fdf822">AddDintToMessage</a>( <a class="code" href="../../df/d03/cipioconnection_8c.html#a4901ec04ad1ac886626e556c60f12196">g_run_idle_state</a>,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                      &amp;(outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a3967b4c7085e44ccfe089cba79b974e1">current_message_position</a>) );</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  memcpy(outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a3967b4c7085e44ccfe089cba79b974e1">current_message_position</a>,</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;         producing_instance_attributes-&gt;<a class="code" href="../../de/dd7/structCipByteArray.html#ad1f95b3da0adfd2aeafd5db1d415a6b9">data</a>,</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;         producing_instance_attributes-&gt;<a class="code" href="../../de/dd7/structCipByteArray.html#a2fc468bacd1d1300da4286bb838b7f7b">length</a>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a052268ce732b27838354e89e94343933">used_message_length</a> +=</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    common_packet_format_data-&gt;<a class="code" href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">data_item</a>.<a class="code" href="../../de/d71/structDataItem.html#a70de504e7692ab2c73be4c96911c9b05">length</a>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#gad0abf9de45d75f3548e1eecfa3eac96b">SendUdpData</a>(</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    &amp;connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">remote_address</a>,</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>],</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a02cbd19072eea296d7ed321a28c9dcf4">message_buffer</a>, outgoing_message.<a class="code" href="../../d3/d4a/structenip__message.html#a052268ce732b27838354e89e94343933">used_message_length</a>);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="../../df/d03/cipioconnection_8c.html#a73bfd5fa3bc96e11219d0b24d70b88c7">  861</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a73bfd5fa3bc96e11219d0b24d70b88c7">HandleReceivedIoConnectionData</a>(</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object,</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *data,</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> data_length</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  ) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="comment">/* check class 1 sequence number*/</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#a7d9579ba2ab49ebf08a1e8b124f7c68fa3985efbf81d9660d0969a318d03fe3f6">kConnectionObjectTransportClassTriggerTransportClass1</a> ==</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a0f3d8e6f21712dbef3fb2e1da42f35ba">ConnectionObjectGetTransportClassTriggerTransportClass</a>(connection_object) )</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> sequence_buffer = <a class="code" href="../../d4/d91/group__ENCAP.html#ga70322f970709ca9c9a1a1d474cfe2302">GetIntFromMessage</a>( &amp;(data) );</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="../../d2/da3/cipconnectionmanager_8h.html#aa90301ce80009301ef74637f50a79e69">SEQ_LEQ16</a>(sequence_buffer,</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                   connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ad768fd9cfb97fcc4f7f7d01cdb67b24f">sequence_count_consuming</a>) ) {</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>; <span class="comment">/* no new data for the assembly */</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#ad768fd9cfb97fcc4f7f7d01cdb67b24f">sequence_count_consuming</a> = sequence_buffer;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    data_length -= 2;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">if</span> (data_length &gt; 0) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="comment">/* we have no heartbeat connection */</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> (kOpenerConsumedDataHasRunIdleHeader) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a> nRunIdleBuf = <a class="code" href="../../d4/d91/group__ENCAP.html#ga668f92389ee06510864585b97955f6f8">GetDintFromMessage</a>( &amp;(data) );</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d03/cipioconnection_8c.html#a4901ec04ad1ac886626e556c60f12196">g_run_idle_state</a> != nRunIdleBuf) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <a class="code" href="../../d5/dc5/group__CIP__CALLBACK__API.html#ga63bf35df0c11815a8a59d8a68ac4b569">RunIdleChanged</a>(nRunIdleBuf);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      <a class="code" href="../../df/d03/cipioconnection_8c.html#a4901ec04ad1ac886626e556c60f12196">g_run_idle_state</a> = nRunIdleBuf;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      data_length -= 4;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d2e/cipassembly_8c.html#a5dc25129faf75858c0aeaa88ea8d9490">NotifyAssemblyConnectedDataReceived</a>(</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;          connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#adc233577b4d61f10079dad1640bf58b9">consuming_instance</a>, (<a class="code" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *<span class="keyword">const</span>)data,</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          data_length) != 0) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;}</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div>
<div class="line"><a name="l00900"></a><span class="lineno"><a class="line" href="../../de/d45/cipioconnection_8h.html#a53b85bce88b582414fc282c95f5626f4">  900</a></span>&#160;<a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="code" href="../../df/d03/cipioconnection_8c.html#a53b85bce88b582414fc282c95f5626f4">OpenCommunicationChannels</a>(<a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> eip_status = <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="comment">/*get pointer to the CPF data, currently we have just one global instance of the struct. This may change in the future*/</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data =</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    &amp;<a class="code" href="../../d4/d91/group__ENCAP.html#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091a">ConnectionObjectConnectionType</a> originator_to_target_connection_type =</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="../../df/d91/cipconnectionobject_8c.html#aa896ebb7d03c6e75027402b3e0d6dc6e">ConnectionObjectGetOToTConnectionType</a>(connection_object);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091a">ConnectionObjectConnectionType</a> target_to_originator_connection_type =</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <a class="code" href="../../df/d91/cipconnectionobject_8c.html#ad61ad2b2c18480a141e5df346e32be02">ConnectionObjectGetTToOConnectionType</a>(connection_object);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">/* open a connection &quot;point to point&quot; or &quot;multicast&quot; based on the ConnectionParameter */</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (originator_to_target_connection_type ==</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa8f7d20eb5adeb31d45a0bfb62dbefe9b">kConnectionObjectConnectionTypeMulticast</a>)                                         <span class="comment">/* Multicast consuming */</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d03/cipioconnection_8c.html#a9e2ce4666173987646cf60ce3422d7b4">OpenMulticastConnection</a>(<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7">kUdpCommuncationDirectionConsuming</a>,</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                connection_object, common_packet_format_data)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        == <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a>) {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(<span class="stringliteral">&quot;error in OpenMulticast Connection\n&quot;</span>);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (originator_to_target_connection_type ==</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;             <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aabc6d5acdbfa8d7cea87c20cd43e5ed56">kConnectionObjectConnectionTypePointToPoint</a>)                                  <span class="comment">/* Point to Point consuming */</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d03/cipioconnection_8c.html#add645b42730b2cea369523949c6b9745">OpenConsumingPointToPointConnection</a>(connection_object,</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                                            common_packet_format_data)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        == <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a>) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(<span class="stringliteral">&quot;error in PointToPoint consuming connection\n&quot;</span>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordflow">if</span> (target_to_originator_connection_type ==</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa8f7d20eb5adeb31d45a0bfb62dbefe9b">kConnectionObjectConnectionTypeMulticast</a>)                                         <span class="comment">/* Multicast producing */</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d03/cipioconnection_8c.html#a5dea6fc1be0ed4ecf5d9e4f932d52106">OpenProducingMulticastConnection</a>(connection_object,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                                         common_packet_format_data)</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        == <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a>) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(<span class="stringliteral">&quot;error in OpenMulticast Connection\n&quot;</span>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (target_to_originator_connection_type ==</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;             <a class="code" href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aabc6d5acdbfa8d7cea87c20cd43e5ed56">kConnectionObjectConnectionTypePointToPoint</a>)                                  <span class="comment">/* Point to Point producing */</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d03/cipioconnection_8c.html#aa3b58fd216ec6712abc29ef84b33006d">OpenProducingPointToPointConnection</a>(connection_object,</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                                            common_packet_format_data)</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        != <a class="code" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a>) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a>(<span class="stringliteral">&quot;error in PointToPoint producing connection\n&quot;</span>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">return</span> eip_status;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;}</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div>
<div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="../../de/d45/cipioconnection_8h.html#a62fc61ed294b1d1543960582f0071b22">  957</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../df/d03/cipioconnection_8c.html#a62fc61ed294b1d1543960582f0071b22">CloseCommunicationChannelsAndRemoveFromActiveConnectionsList</a>(</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <a class="code" href="../../d2/da8/structcip__connection__object.html">CipConnectionObject</a> *connection_object) {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <a class="code" href="../../db/d4f/generic__networkhandler_8c.html#aab6e6c554aa10d27efe297ebef3ac1c9">CloseUdpSocket</a>(</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7">kUdpCommuncationDirectionConsuming</a>]);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7">kUdpCommuncationDirectionConsuming</a>] =</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    kEipInvalidSocket;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <a class="code" href="../../db/d4f/generic__networkhandler_8c.html#aab6e6c554aa10d27efe297ebef3ac1c9">CloseUdpSocket</a>(</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>]);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  connection_object-&gt;<a class="code" href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">socket</a>[<a class="code" href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a>] =</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    kEipInvalidSocket;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <a class="code" href="../../d5/d35/cipconnectionmanager_8c.html#a144782b4e2a5afc89ec32854511bbea7">RemoveFromActiveConnections</a>(connection_object);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <a class="code" href="../../df/d91/cipconnectionobject_8c.html#a8f507fa4e57499d8b96c8adb2ad8a549">ConnectionObjectInitializeEmpty</a>(connection_object);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;}</div>
<div class="ttc" id="cipconnectionobject_8h_html_a8fbd6c5533dcc176e91ae9292524d5abab018e791efab5611f65151a46a40854c"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5abab018e791efab5611f65151a46a40854c">kConnectionObjectInstanceTypeIOInputOnly</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00036">cipconnectionobject.h:36</a></div></div>
<div class="ttc" id="structSocketAddressInfoItem_html_a6698e4b44eeaf0795025d0be524b8e8a"><div class="ttname"><a href="../../dc/d3c/structSocketAddressInfoItem.html#a6698e4b44eeaf0795025d0be524b8e8a">SocketAddressInfoItem::sin_family</a></div><div class="ttdeci">CipInt sin_family</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00059">cpf.h:59</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_ad6b37311125336c0525f037c107e091a"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091a">ConnectionObjectConnectionType</a></div><div class="ttdeci">ConnectionObjectConnectionType</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00074">cipconnectionobject.h:74</a></div></div>
<div class="ttc" id="structenip__message_html"><div class="ttname"><a href="../../d3/d4a/structenip__message.html">enip_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2c/enipmessage_8h_source.html#l00011">enipmessage.h:11</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a43e270b3f9b9f6296b12285c320c95aa"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a43e270b3f9b9f6296b12285c320c95aa">EstablishIoConnection</a></div><div class="ttdeci">EipStatus EstablishIoConnection(CipConnectionObject *RESTRICT const connection_object, EipUint16 *const extended_error)</div><div class="ttdoc">Establishes a new IO Type 1 Connection. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00272">cipioconnection.c:272</a></div></div>
<div class="ttc" id="structDataItem_html_acf4b53bdfe8766830d313e9c7e1cf5dc"><div class="ttname"><a href="../../de/d71/structDataItem.html#acf4b53bdfe8766830d313e9c7e1cf5dc">DataItem::type_id</a></div><div class="ttdeci">EipUint16 type_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00048">cpf.h:48</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759ab31ee32e147e66520a313f02c5875510"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759ab31ee32e147e66520a313f02c5875510">kConnectionManagerExtendedStatusCodeInvalidProducingApplicationPath</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00077">cipconnectionmanager.h:77</a></div></div>
<div class="ttc" id="structcip__connection__object_html_ac60f1a2ace4207cfd21d6f1ca0c5449b"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#ac60f1a2ace4207cfd21d6f1ca0c5449b">cip_connection_object::producing_instance</a></div><div class="ttdeci">CipInstance * producing_instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00131">cipconnectionobject.h:131</a></div></div>
<div class="ttc" id="trace_8h_html"><div class="ttname"><a href="../../d1/d1b/trace_8h.html">trace.h</a></div><div class="ttdoc">Tracing infrastructure for OpENer. </div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a27cf9777eb05383c79d0a8064f00db90"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a27cf9777eb05383c79d0a8064f00db90">kConnectionManagerExtendedStatusCodeInvalidConfigurationApplicationPath</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00074">cipconnectionmanager.h:74</a></div></div>
<div class="ttc" id="cipcommon_8h_html"><div class="ttname"><a href="../../db/d14/cipcommon_8h.html">cipcommon.h</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a62fc61ed294b1d1543960582f0071b22"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a62fc61ed294b1d1543960582f0071b22">CloseCommunicationChannelsAndRemoveFromActiveConnectionsList</a></div><div class="ttdeci">void CloseCommunicationChannelsAndRemoveFromActiveConnectionsList(CipConnectionObject *connection_object)</div><div class="ttdoc">close the communication channels of the given connection and remove it from the active connections li...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00957">cipioconnection.c:957</a></div></div>
<div class="ttc" id="typedefs_8h_html_a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709af172c48a50748097201d49b469c75f7a">kEipStatusOk</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00094">typedefs.h:94</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a534c0a24266039f7ced0d36b7c5496bc"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a534c0a24266039f7ced0d36b7c5496bc">g_config_data_buffer</a></div><div class="ttdeci">EipUint8 * g_config_data_buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00069">cipioconnection.c:69</a></div></div>
<div class="ttc" id="ciptypes_8h_html_a1a7498137431124c4dde66e95095c2d2a6516f9d6e660daf124379a38608434e2"><div class="ttname"><a href="../../df/d28/ciptypes_8h.html#a1a7498137431124c4dde66e95095c2d2a6516f9d6e660daf124379a38608434e2">kIoConnectionEventOpened</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00114">ciptypes.h:114</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a0f448721c05d130babb37390efbac96d"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a0f448721c05d130babb37390efbac96d">cip_connection_object::remote_address</a></div><div class="ttdeci">struct sockaddr_in remote_address</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00174">cipconnectionobject.h:174</a></div></div>
<div class="ttc" id="group__CIP__CALLBACK__API_html_gad0abf9de45d75f3548e1eecfa3eac96b"><div class="ttname"><a href="../../d5/dc5/group__CIP__CALLBACK__API.html#gad0abf9de45d75f3548e1eecfa3eac96b">SendUdpData</a></div><div class="ttdeci">EipStatus SendUdpData(struct sockaddr_in *socket_data, int socket_handle, EipUint8 *data, EipUint16 data_length)</div><div class="ttdoc">Create a producing or consuming UDP socket. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4f/generic__networkhandler_8c_source.html#l00552">generic_networkhandler.c:552</a></div></div>
<div class="ttc" id="structcip__instance_html_ada5c4109b95cb6635f4aa32a2e6d74bf"><div class="ttname"><a href="../../d5/dc5/structcip__instance.html#ada5c4109b95cb6635f4aa32a2e6d74bf">cip_instance::attributes</a></div><div class="ttdeci">CipAttributeStruct * attributes</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00229">ciptypes.h:229</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a6291dd8e01f32f0193aac33ebf902ec3"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a6291dd8e01f32f0193aac33ebf902ec3">kConnectionManagerExtendedStatusCodeErrorRpiValuesNotAcceptable</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00047">cipconnectionmanager.h:47</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a6f912658085869a4e4b341c8ec13c16c"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a6f912658085869a4e4b341c8ec13c16c">kConnectionManagerExtendedStatusCodeMismatchedTToOProductionInhibitTimeSegment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00094">cipconnectionmanager.h:94</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a3607b492711350b9d9979df218f0949d"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a3607b492711350b9d9979df218f0949d">kConnectionManagerExtendedStatusCodeErrorInvalidOToTConnectionSize</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00072">cipconnectionmanager.h:72</a></div></div>
<div class="ttc" id="structcip__connection__object_html_aa764f4fb83441826b615422f18f4c5a2"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#aa764f4fb83441826b615422f18f4c5a2">cip_connection_object::connection_receive_data_function</a></div><div class="ttdeci">ConnectionReceiveDataFunction connection_receive_data_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00188">cipconnectionobject.h:188</a></div></div>
<div class="ttc" id="group__ENCAP_html_ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1">kCipItemIdSequencedAddressItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00033">cpf.h:33</a></div></div>
<div class="ttc" id="structDoublyLinkedList_html_a0c42f2f515a845457c2f8139136d77d0"><div class="ttname"><a href="../../dd/de5/structDoublyLinkedList.html#a0c42f2f515a845457c2f8139136d77d0">DoublyLinkedList::first</a></div><div class="ttdeci">DoublyLinkedListNode * first</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/doublylinkedlist_8h_source.html#l00030">doublylinkedlist.h:30</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a299259d157a6ac077f1c5c8904ceaef8"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a299259d157a6ac077f1c5c8904ceaef8">kConnectionManagerExtendedStatusCodeSuccess</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00036">cipconnectionmanager.h:36</a></div></div>
<div class="ttc" id="structcip__connection__object_html_aa12a45d71134370c0f3882863840c7cd"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#aa12a45d71134370c0f3882863840c7cd">cip_connection_object::socket</a></div><div class="ttdeci">int socket[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00172">cipconnectionobject.h:172</a></div></div>
<div class="ttc" id="ciptypes_8h_html_a1a7498137431124c4dde66e95095c2d2a91f5cbaf05e3e1e95b9c262a851ae931"><div class="ttname"><a href="../../df/d28/ciptypes_8h.html#a1a7498137431124c4dde66e95095c2d2a91f5cbaf05e3e1e95b9c262a851ae931">kIoConnectionEventTimedOut</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00115">ciptypes.h:115</a></div></div>
<div class="ttc" id="encap_8c_html_a0101714be726ab1b21125b6a82ac7a56"><div class="ttname"><a href="../../d2/dbd/encap_8c.html#a0101714be726ab1b21125b6a82ac7a56">CloseEncapsulationSessionBySockAddr</a></div><div class="ttdeci">void CloseEncapsulationSessionBySockAddr(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dbd/encap_8c_source.html#l00874">encap.c:874</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a2a01fa4a474e882c0884a7122c1a5834"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a2a01fa4a474e882c0884a7122c1a5834">cip_connection_object::eip_level_sequence_count_producing</a></div><div class="ttdeci">EipUint32 eip_level_sequence_count_producing</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00157">cipconnectionobject.h:157</a></div></div>
<div class="ttc" id="structenip__message_html_a02cbd19072eea296d7ed321a28c9dcf4"><div class="ttname"><a href="../../d3/d4a/structenip__message.html#a02cbd19072eea296d7ed321a28c9dcf4">enip_message::message_buffer</a></div><div class="ttdeci">CipOctet message_buffer[PC_OPENER_ETHERNET_BUFFER_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2c/enipmessage_8h_source.html#l00012">enipmessage.h:12</a></div></div>
<div class="ttc" id="structcip__class_html"><div class="ttname"><a href="../../da/d8e/structcip__class.html">cip_class</a></div><div class="ttdoc">Class is a subclass of Instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00237">ciptypes.h:237</a></div></div>
<div class="ttc" id="structCipCommonPacketFormatData_html_afc2883222efe7445cb7836d5da872f54"><div class="ttname"><a href="../../db/d80/structCipCommonPacketFormatData.html#afc2883222efe7445cb7836d5da872f54">CipCommonPacketFormatData::address_info_item</a></div><div class="ttdeci">SocketAddressInfoItem address_info_item[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00071">cpf.h:71</a></div></div>
<div class="ttc" id="cpf_8h_html"><div class="ttname"><a href="../../d0/dff/cpf_8h.html">cpf.h</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_a8fbd6c5533dcc176e91ae9292524d5aba798ef4c0d84ae03f5082185fb84f2eca"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5aba798ef4c0d84ae03f5082185fb84f2eca">kConnectionObjectInstanceTypeIOListenOnly</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00037">cipconnectionobject.h:37</a></div></div>
<div class="ttc" id="structDataItem_html_a70de504e7692ab2c73be4c96911c9b05"><div class="ttname"><a href="../../de/d71/structDataItem.html#a70de504e7692ab2c73be4c96911c9b05">DataItem::length</a></div><div class="ttdeci">EipUint16 length</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00049">cpf.h:49</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_aa3b58fd216ec6712abc29ef84b33006d"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#aa3b58fd216ec6712abc29ef84b33006d">OpenProducingPointToPointConnection</a></div><div class="ttdeci">EipStatus OpenProducingPointToPointConnection(CipConnectionObject *connection_object, CipCommonPacketFormatData *common_packet_format_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00408">cipioconnection.c:408</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_aa90301ce80009301ef74637f50a79e69"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#aa90301ce80009301ef74637f50a79e69">SEQ_LEQ16</a></div><div class="ttdeci">#define SEQ_LEQ16(a, b)</div><div class="ttdoc">similar macros for comparing 16 bit sequence numbers </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00160">cipconnectionmanager.h:160</a></div></div>
<div class="ttc" id="typedefs_8h_html_a354b9a030f385814dac5d61a8eec2e42"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42">UdpCommuncationDirection</a></div><div class="ttdeci">UdpCommuncationDirection</div><div class="ttdoc">Communication direction of an UDP socket; consuming is receiver, producing is sender. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00104">typedefs.h:104</a></div></div>
<div class="ttc" id="structCipByteArray_html"><div class="ttname"><a href="../../de/dd7/structCipByteArray.html">CipByteArray</a></div><div class="ttdoc">CIP Byte Array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00122">ciptypes.h:122</a></div></div>
<div class="ttc" id="structCipByteArray_html_a2fc468bacd1d1300da4286bb838b7f7b"><div class="ttname"><a href="../../de/dd7/structCipByteArray.html#a2fc468bacd1d1300da4286bb838b7f7b">CipByteArray::length</a></div><div class="ttdeci">EipUint16 length</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00123">ciptypes.h:123</a></div></div>
<div class="ttc" id="structCipCommonPacketFormatData_html_a054b7138d1a6837b9ade41b17635bc96"><div class="ttname"><a href="../../db/d80/structCipCommonPacketFormatData.html#a054b7138d1a6837b9ade41b17635bc96">CipCommonPacketFormatData::data_item</a></div><div class="ttdeci">DataItem data_item</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00070">cpf.h:70</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_ad61ad2b2c18480a141e5df346e32be02"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#ad61ad2b2c18480a141e5df346e32be02">ConnectionObjectGetTToOConnectionType</a></div><div class="ttdeci">ConnectionObjectConnectionType ConnectionObjectGetTToOConnectionType(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00671">cipconnectionobject.c:671</a></div></div>
<div class="ttc" id="group__ENCAP_html_ga668f92389ee06510864585b97955f6f8"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#ga668f92389ee06510864585b97955f6f8">GetDintFromMessage</a></div><div class="ttdeci">EipUint32 GetDintFromMessage(const EipUint8 **const buffer)</div><div class="ttdoc">Reads EIP_UINT32 from *buffer and converts little endian to host. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d73/endianconv_8c_source.html#l00083">endianconv.c:83</a></div></div>
<div class="ttc" id="structenip__message_html_a3967b4c7085e44ccfe089cba79b974e1"><div class="ttname"><a href="../../d3/d4a/structenip__message.html#a3967b4c7085e44ccfe089cba79b974e1">enip_message::current_message_position</a></div><div class="ttdeci">CipOctet * current_message_position</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2c/enipmessage_8h_source.html#l00013">enipmessage.h:13</a></div></div>
<div class="ttc" id="cipconnectionmanager_8c_html_a144782b4e2a5afc89ec32854511bbea7"><div class="ttname"><a href="../../d5/d35/cipconnectionmanager_8c.html#a144782b4e2a5afc89ec32854511bbea7">RemoveFromActiveConnections</a></div><div class="ttdeci">void RemoveFromActiveConnections(CipConnectionObject *const connection_object)</div><div class="ttdoc">Removes connection from the list of active connections. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/cipconnectionmanager_8c_source.html#l01414">cipconnectionmanager.c:1414</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_a2e4314abc5d0e4684f16b1bc91088e7b"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#a2e4314abc5d0e4684f16b1bc91088e7b">ConnectionObjectSetProductionInhibitTime</a></div><div class="ttdeci">void ConnectionObjectSetProductionInhibitTime(CipConnectionObject *const connection_object, const CipUint production_inhibit_time)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00527">cipconnectionobject.c:527</a></div></div>
<div class="ttc" id="group__ENCAP_html_gafaae5be8de81c633ea4df46fa8b957e0"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a></div><div class="ttdeci">CipCommonPacketFormatData g_common_packet_format_data_item</div><div class="ttdoc">Data storage for the any CPF data Currently we are single threaded and need only one CPF at the time...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d98/cpf_8c_source.html#l00024">cpf.c:24</a></div></div>
<div class="ttc" id="appcontype_8c_html_acda34462cc2d60ebb7b48a633bfe3c49"><div class="ttname"><a href="../../d1/dbc/appcontype_8c.html#acda34462cc2d60ebb7b48a633bfe3c49">GetNextNonControlMasterConnection</a></div><div class="ttdeci">CipConnectionObject * GetNextNonControlMasterConnection(const EipUint32 input_point)</div><div class="ttdoc">check if there exists an producing multicast exclusive owner or listen only connection that should pr...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/appcontype_8c_source.html#l00371">appcontype.c:371</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a9e2ce4666173987646cf60ce3422d7b4"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a9e2ce4666173987646cf60ce3422d7b4">OpenMulticastConnection</a></div><div class="ttdeci">EipStatus OpenMulticastConnection(UdpCommuncationDirection direction, CipConnectionObject *connection_object, CipCommonPacketFormatData *common_packet_format_data)</div><div class="ttdoc">Open a Multicast connection dependent on direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00520">cipioconnection.c:520</a></div></div>
<div class="ttc" id="structconnection__path__epath_html_ac5361794a9129b86407bc843e8749038"><div class="ttname"><a href="../../d9/de3/structconnection__path__epath.html#ac5361794a9129b86407bc843e8749038">connection_path_epath::instance_id</a></div><div class="ttdeci">CipDword instance_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d02/cipepath_8h_source.html#l00165">cipepath.h:165</a></div></div>
<div class="ttc" id="structconnection__path__epath_html_a8e06df09d8e84593faaf7f3bfa5b5e6f"><div class="ttname"><a href="../../d9/de3/structconnection__path__epath.html#a8e06df09d8e84593faaf7f3bfa5b5e6f">connection_path_epath::attribute_id_or_connection_point</a></div><div class="ttdeci">CipDword attribute_id_or_connection_point</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d02/cipepath_8h_source.html#l00166">cipepath.h:166</a></div></div>
<div class="ttc" id="endianconv_8h_html"><div class="ttname"><a href="../../d0/dec/endianconv_8h.html">endianconv.h</a></div><div class="ttdoc">Responsible for Endianess conversion. </div></div>
<div class="ttc" id="trace_8h_html_a48f0d8056c030015f14cf5907315e6bb"><div class="ttname"><a href="../../d1/d1b/trace_8h.html#a48f0d8056c030015f14cf5907315e6bb">OPENER_TRACE_ERR</a></div><div class="ttdeci">#define OPENER_TRACE_ERR(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1b/trace_8h_source.html#l00086">trace.h:86</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a772a8a668d0b49599ebf8e972443bbca"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a772a8a668d0b49599ebf8e972443bbca">cip_connection_object::instance_type</a></div><div class="ttdeci">CipUsint instance_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00106">cipconnectionobject.h:106</a></div></div>
<div class="ttc" id="enipmessage_8c_html_a3bc72c361822172e328654abb263c1a7"><div class="ttname"><a href="../../da/de0/enipmessage_8c.html#a3bc72c361822172e328654abb263c1a7">InitializeENIPMessage</a></div><div class="ttdeci">void InitializeENIPMessage(ENIPMessage *const message)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de0/enipmessage_8c_source.html#l00010">enipmessage.c:10</a></div></div>
<div class="ttc" id="ciptcpipinterface_8c_html_a3b13a18a3f6efcb8f2e651676096f4e5"><div class="ttname"><a href="../../dd/d20/ciptcpipinterface_8c.html#a3b13a18a3f6efcb8f2e651676096f4e5">g_multicast_configuration</a></div><div class="ttdeci">MulticastAddressConfiguration g_multicast_configuration</div><div class="ttdoc">#9 The multicast configuration for this device </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d20/ciptcpipinterface_8c_source.html#l00053">ciptcpipinterface.c:53</a></div></div>
<div class="ttc" id="appcontype_8c_html_ac568876f2c5ba2da91a0e62e17e27432"><div class="ttname"><a href="../../d1/dbc/appcontype_8c.html#ac568876f2c5ba2da91a0e62e17e27432">GetExistingProducerMulticastConnection</a></div><div class="ttdeci">CipConnectionObject * GetExistingProducerMulticastConnection(const EipUint32 input_point)</div><div class="ttdoc">Check if there exists already an exclusive owner or listen only connection which produces the input a...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/appcontype_8c_source.html#l00344">appcontype.c:344</a></div></div>
<div class="ttc" id="structSocketAddressInfoItem_html_a8933e644c7191ea8f5a22401b2e6a6fa"><div class="ttname"><a href="../../dc/d3c/structSocketAddressInfoItem.html#a8933e644c7191ea8f5a22401b2e6a6fa">SocketAddressInfoItem::length</a></div><div class="ttdeci">CipUint length</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00058">cpf.h:58</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a343534a00fd90f7b8aa594e0208729cf"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a343534a00fd90f7b8aa594e0208729cf">kConnectionManagerExtendedStatusCodeMismatchedTToONetworkConnectionFixVar</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00088">cipconnectionmanager.h:88</a></div></div>
<div class="ttc" id="cipassembly_8c_html_a5dc25129faf75858c0aeaa88ea8d9490"><div class="ttname"><a href="../../df/d2e/cipassembly_8c.html#a5dc25129faf75858c0aeaa88ea8d9490">NotifyAssemblyConnectedDataReceived</a></div><div class="ttdeci">EipStatus NotifyAssemblyConnectedDataReceived(CipInstance *const instance, const EipUint8 *const data, const EipUint16 data_length)</div><div class="ttdoc">notify an Assembly object that data has been received for it. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2e/cipassembly_8c_source.html#l00106">cipassembly.c:106</a></div></div>
<div class="ttc" id="group__ENCAP_html_ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217">kCipItemIdConnectedDataItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00028">cpf.h:28</a></div></div>
<div class="ttc" id="structAddressItem_html_ae405cdded64b36b5bbad607ea251865a"><div class="ttname"><a href="../../d3/d56/structAddressItem.html#ae405cdded64b36b5bbad607ea251865a">AddressItem::data</a></div><div class="ttdeci">AddressData data</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00044">cpf.h:44</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_a8fbd6c5533dcc176e91ae9292524d5aba868ab030f24ecf41724bed2fadfe4caa"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#a8fbd6c5533dcc176e91ae9292524d5aba868ab030f24ecf41724bed2fadfe4caa">kConnectionObjectInstanceTypeIOExclusiveOwner</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00035">cipconnectionobject.h:35</a></div></div>
<div class="ttc" id="structSocketAddressInfoItem_html_a3f7a4600643a87742112758468b42146"><div class="ttname"><a href="../../dc/d3c/structSocketAddressInfoItem.html#a3f7a4600643a87742112758468b42146">SocketAddressInfoItem::sin_port</a></div><div class="ttdeci">CipUint sin_port</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00060">cpf.h:60</a></div></div>
<div class="ttc" id="structSocketAddressInfoItem_html_ad71289b55ab0ff6a4382af44afaccca2"><div class="ttname"><a href="../../dc/d3c/structSocketAddressInfoItem.html#ad71289b55ab0ff6a4382af44afaccca2">SocketAddressInfoItem::type_id</a></div><div class="ttdeci">CipUint type_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00057">cpf.h:57</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a20f1bc1c4cc4470cf371f94d51814de2"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a20f1bc1c4cc4470cf371f94d51814de2">SendConnectedData</a></div><div class="ttdeci">EipStatus SendConnectedData(CipConnectionObject *connection_object)</div><div class="ttdoc">Send the data from the produced CIP Object of the connection via the socket of the connection object ...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00772">cipioconnection.c:772</a></div></div>
<div class="ttc" id="structcip__connection__object_html_aa1cbdb9fe8b98c23e728f846a8b166a4"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#aa1cbdb9fe8b98c23e728f846a8b166a4">cip_connection_object::connection_close_function</a></div><div class="ttdeci">ConnectionCloseFunction connection_close_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00185">cipconnectionobject.h:185</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_a5a8dca52f318b4aca92f10de1c1072fc"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#a5a8dca52f318b4aca92f10de1c1072fc">ConnectionObjectGetTToORequestedPacketInterval</a></div><div class="ttdeci">CipUdint ConnectionObjectGetTToORequestedPacketInterval(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00627">cipconnectionobject.c:627</a></div></div>
<div class="ttc" id="ciptypes_8h_html_a1a7498137431124c4dde66e95095c2d2aef7d80152c2d6e1a5e7f64bf51801374"><div class="ttname"><a href="../../df/d28/ciptypes_8h.html#a1a7498137431124c4dde66e95095c2d2aef7d80152c2d6e1a5e7f64bf51801374">kIoConnectionEventClosed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00116">ciptypes.h:116</a></div></div>
<div class="ttc" id="structSocketAddressInfoItem_html_a46921af5bef9ee04546194f8d19d3163"><div class="ttname"><a href="../../dc/d3c/structSocketAddressInfoItem.html#a46921af5bef9ee04546194f8d19d3163">SocketAddressInfoItem::sin_addr</a></div><div class="ttdeci">CipUdint sin_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00061">cpf.h:61</a></div></div>
<div class="ttc" id="group__CIP__CALLBACK__API_html_gac9c9ad2c2254b783e7b447bd84eba8c0"><div class="ttname"><a href="../../d5/dc5/group__CIP__CALLBACK__API.html#gac9c9ad2c2254b783e7b447bd84eba8c0">CheckIoConnectionEvent</a></div><div class="ttdeci">void CheckIoConnectionEvent(unsigned int output_assembly_id, unsigned int input_assembly_id, IoConnectionEvent io_connection_event)</div><div class="ttdoc">Inform the application on changes occurred for a connection. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/daa/POSIX_2sample__application_2sampleapplication_8c_source.html#l00074">sampleapplication.c:74</a></div></div>
<div class="ttc" id="typedefs_8h_html_a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709a1ac5aa8c4de11fc51d52843b5d173184">kEipStatusError</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00096">typedefs.h:96</a></div></div>
<div class="ttc" id="group__ENCAP_html_ga137d29fba9dd744ed2e9323bf75e0bba"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#ga137d29fba9dd744ed2e9323bf75e0bba">AssembleIOMessage</a></div><div class="ttdeci">int AssembleIOMessage(const CipCommonPacketFormatData *const common_packet_format_data_item, ENIPMessage *const outgoing_message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d98/cpf_8c_source.html#l00760">cpf.c:760</a></div></div>
<div class="ttc" id="structCipAttributeStruct_html_a859d8bdd91ff42b1ce0ff5f8053d2b40"><div class="ttname"><a href="../../d4/d62/structCipAttributeStruct.html#a859d8bdd91ff42b1ce0ff5f8053d2b40">CipAttributeStruct::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00221">ciptypes.h:221</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a53b85bce88b582414fc282c95f5626f4"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a53b85bce88b582414fc282c95f5626f4">OpenCommunicationChannels</a></div><div class="ttdeci">EipStatus OpenCommunicationChannels(CipConnectionObject *connection_object)</div><div class="ttdoc">Take the data given in the connection object structure and open the necessary communication channels...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00900">cipioconnection.c:900</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_a8f507fa4e57499d8b96c8adb2ad8a549"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#a8f507fa4e57499d8b96c8adb2ad8a549">ConnectionObjectInitializeEmpty</a></div><div class="ttdeci">void ConnectionObjectInitializeEmpty(CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00097">cipconnectionobject.c:97</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_a7d9579ba2ab49ebf08a1e8b124f7c68fa848be73a997600d2bfdac37d0520dfc0"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#a7d9579ba2ab49ebf08a1e8b124f7c68fa848be73a997600d2bfdac37d0520dfc0">kConnectionObjectTransportClassTriggerTransportClass0</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00055">cipconnectionobject.h:55</a></div></div>
<div class="ttc" id="WIN32_2sample__application_2opener__user__conf_8h_html_adc5174418a78989eb51ef56f622db6e3"><div class="ttname"><a href="../../db/d9c/WIN32_2sample__application_2opener__user__conf_8h.html#adc5174418a78989eb51ef56f622db6e3">in_port_t</a></div><div class="ttdeci">unsigned short in_port_t</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d9c/WIN32_2sample__application_2opener__user__conf_8h_source.html#l00025">opener_user_conf.h:25</a></div></div>
<div class="ttc" id="group__ENCAP_html_ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00032">cpf.h:32</a></div></div>
<div class="ttc" id="appcontype_8c_html_ac869fbefb1f616eaa666fe659c224fe3"><div class="ttname"><a href="../../d1/dbc/appcontype_8c.html#ac869fbefb1f616eaa666fe659c224fe3">ConnectionWithSameConfigPointExists</a></div><div class="ttdeci">bool ConnectionWithSameConfigPointExists(const EipUint32 config_point)</div><div class="ttdoc">Check if there is an established connection that uses the same config point. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/appcontype_8c_source.html#l00435">appcontype.c:435</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a99741924898d08d2539703ac8bb1c9b0"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a99741924898d08d2539703ac8bb1c9b0">kConnectionManagerExtendedStatusCodeRpiNotSupported</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00046">cipconnectionmanager.h:46</a></div></div>
<div class="ttc" id="structAddressItem_html_a8651f8610143cd0ef830abdc1fcf00b2"><div class="ttname"><a href="../../d3/d56/structAddressItem.html#a8651f8610143cd0ef830abdc1fcf00b2">AddressItem::length</a></div><div class="ttdeci">CipUint length</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00043">cpf.h:43</a></div></div>
<div class="ttc" id="structdoubly__linked__list__node_html_aff605e502e98b61844dc494a0103b462"><div class="ttname"><a href="../../df/d2f/structdoubly__linked__list__node.html#aff605e502e98b61844dc494a0103b462">doubly_linked_list_node::next</a></div><div class="ttdeci">DoublyLinkedListNode * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/doublylinkedlist_8h_source.html#l00025">doublylinkedlist.h:25</a></div></div>
<div class="ttc" id="POSIX_2sample__application_2opener__user__conf_8h_html_a7b5e7d71f666ba97788b35be1617c40a"><div class="ttname"><a href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h.html#a7b5e7d71f666ba97788b35be1617c40a">OPENER_ASSERT</a></div><div class="ttdeci">#define OPENER_ASSERT(assertion)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h_source.html#l00135">opener_user_conf.h:135</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_aeee7026822ffa05ebabab57a0eed1665"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#aeee7026822ffa05ebabab57a0eed1665">ConnectionObjectGetTToOPriority</a></div><div class="ttdeci">ConnectionObjectPriority ConnectionObjectGetTToOPriority(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00702">cipconnectionobject.c:702</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a4efa3b0cf11b363c8c5f4f8c8070b43f"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a4efa3b0cf11b363c8c5f4f8c8070b43f">SetupIoConnectionTargetToOriginatorConnectionPoint</a></div><div class="ttdeci">EipUint16 SetupIoConnectionTargetToOriginatorConnectionPoint(CipConnectionObject *const io_connection_object, CipConnectionObject *const RESTRICT connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00162">cipioconnection.c:162</a></div></div>
<div class="ttc" id="group__ENCAP_html_gae689aac2a85bf49fb356ec94c8800799"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#gae689aac2a85bf49fb356ec94c8800799">AddIntToMessage</a></div><div class="ttdeci">int AddIntToMessage(const EipUint16 data, EipUint8 **const buffer)</div><div class="ttdoc">converts UINT16 data from host to little endian an writes it to buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d73/endianconv_8c_source.html#l00117">endianconv.c:117</a></div></div>
<div class="ttc" id="typedefs_8h_html_a3dcc5f7837c120360f8cc88a76781709"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a></div><div class="ttdeci">EipStatus</div><div class="ttdoc">EIP stack status enum. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00093">typedefs.h:93</a></div></div>
<div class="ttc" id="typedefs_8h_html_aa0c108ee762a27720919a4634643040e"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a></div><div class="ttdeci">uint8_t EipUint8</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00032">typedefs.h:32</a></div></div>
<div class="ttc" id="typedefs_8h_html_abf2dd49262551294eb990ef8746a2767"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a></div><div class="ttdeci">uint32_t EipUint32</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00034">typedefs.h:34</a></div></div>
<div class="ttc" id="cipioconnection_8h_html"><div class="ttname"><a href="../../de/d45/cipioconnection_8h.html">cipioconnection.h</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_ad6b37311125336c0525f037c107e091aa489c722263e053ad7efbdb06f1ea7466"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa489c722263e053ad7efbdb06f1ea7466">kConnectionObjectConnectionTypeNull</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00075">cipconnectionobject.h:75</a></div></div>
<div class="ttc" id="structcip__connection__object_html_adb77c52191a28697c2b7063a8f630522"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#adb77c52191a28697c2b7063a8f630522">cip_connection_object::sequence_count_producing</a></div><div class="ttdeci">CipUint sequence_count_producing</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00152">cipconnectionobject.h:152</a></div></div>
<div class="ttc" id="structcip__connection__object_html_adc233577b4d61f10079dad1640bf58b9"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#adc233577b4d61f10079dad1640bf58b9">cip_connection_object::consuming_instance</a></div><div class="ttdeci">CipInstance * consuming_instance</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00132">cipconnectionobject.h:132</a></div></div>
<div class="ttc" id="group__ENCAP_html_gaafc3c9e3ff582c9b7e438ae2b1fdf822"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#gaafc3c9e3ff582c9b7e438ae2b1fdf822">AddDintToMessage</a></div><div class="ttdeci">int AddDintToMessage(const EipUint32 data, EipUint8 **const buffer)</div><div class="ttdoc">Converts UINT32 data from host to little endian and writes it to buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d73/endianconv_8c_source.html#l00132">endianconv.c:132</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759ab4e28712221560fc4ea27d27becb378b"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759ab4e28712221560fc4ea27d27becb378b">kConnectionManagerExtendedStatusCodeMismatchedTToOProductionTrigger</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00093">cipconnectionmanager.h:93</a></div></div>
<div class="ttc" id="typedefs_8h_html_a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42aeb4cf2b383958e411d35e88ae386c5ec">kUdpCommuncationDirectionProducing</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00106">typedefs.h:106</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_aa896ebb7d03c6e75027402b3e0d6dc6e"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#aa896ebb7d03c6e75027402b3e0d6dc6e">ConnectionObjectGetOToTConnectionType</a></div><div class="ttdeci">ConnectionObjectConnectionType ConnectionObjectGetOToTConnectionType(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00665">cipconnectionobject.c:665</a></div></div>
<div class="ttc" id="trace_8h_html_a9a8a4741005c175e598afc162f68982a"><div class="ttname"><a href="../../d1/d1b/trace_8h.html#a9a8a4741005c175e598afc162f68982a">OPENER_TRACE_INFO</a></div><div class="ttdeci">#define OPENER_TRACE_INFO(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1b/trace_8h_source.html#l00089">trace.h:89</a></div></div>
<div class="ttc" id="generic__networkhandler_8h_html"><div class="ttname"><a href="../../da/dc2/generic__networkhandler_8h.html">generic_networkhandler.h</a></div></div>
<div class="ttc" id="appcontype_8h_html"><div class="ttname"><a href="../../d1/dc0/appcontype_8h.html">appcontype.h</a></div></div>
<div class="ttc" id="generic__networkhandler_8c_html_aab6e6c554aa10d27efe297ebef3ac1c9"><div class="ttname"><a href="../../db/d4f/generic__networkhandler_8c.html#aab6e6c554aa10d27efe297ebef3ac1c9">CloseUdpSocket</a></div><div class="ttdeci">void CloseUdpSocket(int socket_handle)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4f/generic__networkhandler_8c_source.html#l00257">generic_networkhandler.c:257</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a8d8986dcd044a68134f9e52f856718ce"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a8d8986dcd044a68134f9e52f856718ce">cip_connection_object::produced_path</a></div><div class="ttdeci">CipConnectionPathEpath produced_path</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00117">cipconnectionobject.h:117</a></div></div>
<div class="ttc" id="group__ENCAP_html_ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f">kCipItemIdConnectionAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00027">cpf.h:27</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_ac00a39ab755db54e4abf917618ff9849"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#ac00a39ab755db54e4abf917618ff9849">SetupIoConnectionOriginatorToTargetConnectionPoint</a></div><div class="ttdeci">EipUint16 SetupIoConnectionOriginatorToTargetConnectionPoint(CipConnectionObject *const io_connection_object, CipConnectionObject *const RESTRICT connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00109">cipioconnection.c:109</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a7e4923f4b027d489d9933b52f6fd7007"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a7e4923f4b027d489d9933b52f6fd7007">HandleIoConnectionTimeOut</a></div><div class="ttdeci">void HandleIoConnectionTimeOut(CipConnectionObject *connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00721">cipioconnection.c:721</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_add645b42730b2cea369523949c6b9745"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#add645b42730b2cea369523949c6b9745">OpenConsumingPointToPointConnection</a></div><div class="ttdeci">EipStatus OpenConsumingPointToPointConnection(CipConnectionObject *const connection_object, CipCommonPacketFormatData *const common_packet_format_data)</div><div class="ttdoc">Open a Point2Point connection dependent on pa_direction. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00363">cipioconnection.c:363</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_a2d8f4835df1f11d188736b854d28e7d9"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#a2d8f4835df1f11d188736b854d28e7d9">ConnectionObjectGetProductionInhibitTime</a></div><div class="ttdeci">CipUint ConnectionObjectGetProductionInhibitTime(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00522">cipconnectionobject.c:522</a></div></div>
<div class="ttc" id="typedefs_8h_html_a378b726bef4c65cb2ec1c1cdf1205f52"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#a378b726bef4c65cb2ec1c1cdf1205f52">CipUsint</a></div><div class="ttdeci">uint8_t CipUsint</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00046">typedefs.h:46</a></div></div>
<div class="ttc" id="group__CIP__API_html_gaa50395aca91b378c297d6ad919df210e"><div class="ttname"><a href="../../d2/dc9/group__CIP__API.html#gaa50395aca91b378c297d6ad919df210e">GetCipInstance</a></div><div class="ttdeci">CipInstance * GetCipInstance(const CipClass *RESTRICT const cip_class, EipUint32 instance_number)</div><div class="ttdoc">Get a pointer to an instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7d/cipmessagerouter_8c_source.html#l00135">cipmessagerouter.c:135</a></div></div>
<div class="ttc" id="structAddressData_html_a41d4480ab2d89c04cd9211586be88ba5"><div class="ttname"><a href="../../d9/da2/structAddressData.html#a41d4480ab2d89c04cd9211586be88ba5">AddressData::sequence_number</a></div><div class="ttdeci">EipUint32 sequence_number</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00038">cpf.h:38</a></div></div>
<div class="ttc" id="structCipCommonPacketFormatData_html_a7ff1108c27f9ebe1d69305311c6b234b"><div class="ttname"><a href="../../db/d80/structCipCommonPacketFormatData.html#a7ff1108c27f9ebe1d69305311c6b234b">CipCommonPacketFormatData::item_count</a></div><div class="ttdeci">EipUint16 item_count</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00068">cpf.h:68</a></div></div>
<div class="ttc" id="group__CIP__API_html_ga98bd609c80ece316406363575b4a89ea"><div class="ttname"><a href="../../d2/dc9/group__CIP__API.html#ga98bd609c80ece316406363575b4a89ea">GetCipClass</a></div><div class="ttdeci">CipClass * GetCipClass(const EipUint32 class_id)</div><div class="ttdoc">Get a pointer to a CIP object with given class code. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7d/cipmessagerouter_8c_source.html#l00125">cipmessagerouter.c:125</a></div></div>
<div class="ttc" id="structcip__connection__object_html_af1595add8f6d4e0f5bac19b7918c02ec"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#af1595add8f6d4e0f5bac19b7918c02ec">cip_connection_object::configuration_path</a></div><div class="ttdeci">CipConnectionPathEpath configuration_path</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00129">cipconnectionobject.h:129</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_a07601b1d58bee031fad7dc056fb89117a43eb1272dcbc2027a0d4bb64ab8d8d0d"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#a07601b1d58bee031fad7dc056fb89117a43eb1272dcbc2027a0d4bb64ab8d8d0d">kConnectionObjectStateTimedOut</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00025">cipconnectionobject.h:25</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a73bfd5fa3bc96e11219d0b24d70b88c7"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a73bfd5fa3bc96e11219d0b24d70b88c7">HandleReceivedIoConnectionData</a></div><div class="ttdeci">EipStatus HandleReceivedIoConnectionData(CipConnectionObject *connection_object, const EipUint8 *data, EipUint16 data_length)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00861">cipioconnection.c:861</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759ae7afa5d3624f0bbb17e53ba60fd954ab"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759ae7afa5d3624f0bbb17e53ba60fd954ab">kConnectionManagerExtendedStatusCodeMismatchedTToONetworkConnectionPriority</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00090">cipconnectionmanager.h:90</a></div></div>
<div class="ttc" id="group__CIP__API_html_ga5a14c8d76acacb09312b709bb0a76265"><div class="ttname"><a href="../../d2/dc9/group__CIP__API.html#ga5a14c8d76acacb09312b709bb0a76265">GetCipAttribute</a></div><div class="ttdeci">CipAttributeStruct * GetCipAttribute(const CipInstance *const instance, const EipUint16 attribute_number)</div><div class="ttdoc">Get a pointer to an instance&#39;s attribute. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d3d/cipcommon_8c_source.html#l00372">cipcommon.c:372</a></div></div>
<div class="ttc" id="ciptcpipinterface_8h_html"><div class="ttname"><a href="../../d1/dad/ciptcpipinterface_8h.html">ciptcpipinterface.h</a></div><div class="ttdoc">Public interface of the TCP/IP Interface Object. </div></div>
<div class="ttc" id="appcontype_8h_html_ab314e92264a974f6b8aef1327e546e2e"><div class="ttname"><a href="../../d1/dc0/appcontype_8h.html#ab314e92264a974f6b8aef1327e546e2e">connection_list</a></div><div class="ttdeci">DoublyLinkedList connection_list</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00053">cipconnectionobject.c:53</a></div></div>
<div class="ttc" id="group__ENCAP_html_ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623">kCipItemIdSocketAddressInfoOriginatorToTarget</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00031">cpf.h:31</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html">cipconnectionmanager.h</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a5f34750287366fbfefb19e5e9c5433ff"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a5f34750287366fbfefb19e5e9c5433ff">cip_connection_object::connection_timeout_function</a></div><div class="ttdeci">ConnectionTimeoutFunction connection_timeout_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00186">cipconnectionobject.h:186</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a68b99df85d462657b12a854316c168f5"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a68b99df85d462657b12a854316c168f5">HandleConfigData</a></div><div class="ttdeci">EipUint16 HandleConfigData(CipConnectionObject *connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00619">cipioconnection.c:619</a></div></div>
<div class="ttc" id="structcip__instance_html"><div class="ttname"><a href="../../d5/dc5/structcip__instance.html">cip_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00227">ciptypes.h:227</a></div></div>
<div class="ttc" id="structCipCommonPacketFormatData_html_a6f7f7299bfdc600609c9b9f8fc55ac5b"><div class="ttname"><a href="../../db/d80/structCipCommonPacketFormatData.html#a6f7f7299bfdc600609c9b9f8fc55ac5b">CipCommonPacketFormatData::address_item</a></div><div class="ttdeci">AddressItem address_item</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00069">cpf.h:69</a></div></div>
<div class="ttc" id="structCipAttributeStruct_html"><div class="ttname"><a href="../../d4/d62/structCipAttributeStruct.html">CipAttributeStruct</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00215">ciptypes.h:215</a></div></div>
<div class="ttc" id="structdoubly__linked__list__node_html_a2e39fa639f2c160c7ba295cb583ca953"><div class="ttname"><a href="../../df/d2f/structdoubly__linked__list__node.html#a2e39fa639f2c160c7ba295cb583ca953">doubly_linked_list_node::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/doublylinkedlist_8h_source.html#l00026">doublylinkedlist.h:26</a></div></div>
<div class="ttc" id="structcip__connection__object_html_ac4b956f5790d2a6e6a825be1c85e378d"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#ac4b956f5790d2a6e6a825be1c85e378d">cip_connection_object::transmission_trigger_timer</a></div><div class="ttdeci">uint64_t transmission_trigger_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00137">cipconnectionobject.h:137</a></div></div>
<div class="ttc" id="trace_8h_html_aa1b39db9477c48695273170aff3c3a7a"><div class="ttname"><a href="../../d1/d1b/trace_8h.html#aa1b39db9477c48695273170aff3c3a7a">OPENER_TRACE_WARN</a></div><div class="ttdeci">#define OPENER_TRACE_WARN(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1b/trace_8h_source.html#l00087">trace.h:87</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a13f9ddcd3a2500918f93cf815106996e"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a13f9ddcd3a2500918f93cf815106996e">kConnectionManagerExtendedStatusCodeMismatchedTransportClass</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00092">cipconnectionmanager.h:92</a></div></div>
<div class="ttc" id="structdoubly__linked__list__node_html"><div class="ttname"><a href="../../df/d2f/structdoubly__linked__list__node.html">doubly_linked_list_node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/doublylinkedlist_8h_source.html#l00023">doublylinkedlist.h:23</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_ad20328302a359540d55f48ae36f7237d"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#ad20328302a359540d55f48ae36f7237d">g_config_data_length</a></div><div class="ttdeci">unsigned int g_config_data_length</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00070">cipioconnection.c:70</a></div></div>
<div class="ttc" id="typedefs_8h_html_a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#a354b9a030f385814dac5d61a8eec2e42a922e4c2f521c295287766f9917c9fea7">kUdpCommuncationDirectionConsuming</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00105">typedefs.h:105</a></div></div>
<div class="ttc" id="group__CIP__CALLBACK__API_html_ga63bf35df0c11815a8a59d8a68ac4b569"><div class="ttname"><a href="../../d5/dc5/group__CIP__CALLBACK__API.html#ga63bf35df0c11815a8a59d8a68ac4b569">RunIdleChanged</a></div><div class="ttdeci">void RunIdleChanged(EipUint32 run_idle_value)</div><div class="ttdoc">Inform the application that the Run/Idle State has been changed by the originator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/daa/POSIX_2sample__application_2sampleapplication_8c_source.html#l00153">sampleapplication.c:153</a></div></div>
<div class="ttc" id="group__CIP__CALLBACK__API_html_ga5807bcc51621775c9aedbf58d3a7a6d3"><div class="ttname"><a href="../../d5/dc5/group__CIP__CALLBACK__API.html#ga5807bcc51621775c9aedbf58d3a7a6d3">CreateUdpSocket</a></div><div class="ttdeci">int CreateUdpSocket(UdpCommuncationDirection communication_direction, struct sockaddr_in *socket_data, CipUsint qos_for_socket)</div><div class="ttdoc">create a producing or consuming UDP socket </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4f/generic__networkhandler_8c_source.html#l00808">generic_networkhandler.c:808</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a27028c320baa22cd19299de5580da173"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a27028c320baa22cd19299de5580da173">cip_connection_object::consumed_path</a></div><div class="ttdeci">CipConnectionPathEpath consumed_path</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00120">cipconnectionobject.h:120</a></div></div>
<div class="ttc" id="structcip__connection__object_html_aa15c489fd122eb15edd5125c46b0430b"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#aa15c489fd122eb15edd5125c46b0430b">cip_connection_object::cip_produced_connection_id</a></div><div class="ttdeci">CipUdint cip_produced_connection_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00112">cipconnectionobject.h:112</a></div></div>
<div class="ttc" id="appcontype_8c_html_a1181149fe4f853e43552e0b50e2f4d23"><div class="ttname"><a href="../../d1/dbc/appcontype_8c.html#a1181149fe4f853e43552e0b50e2f4d23">CloseAllConnectionsForInputWithSameType</a></div><div class="ttdeci">void CloseAllConnectionsForInputWithSameType(const EipUint32 input_point, const ConnectionObjectConnectionType instance_type)</div><div class="ttdoc">Close all connection producing the same input and have the same type (i.e., listen only or input only...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/appcontype_8c_source.html#l00400">appcontype.c:400</a></div></div>
<div class="ttc" id="structcip__connection__object_html_ac13e63588a60dbbbaa40c844e57c8d1f"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#ac13e63588a60dbbbaa40c844e57c8d1f">cip_connection_object::consumed_connection_path_length</a></div><div class="ttdeci">CipUint consumed_connection_path_length</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00118">cipconnectionobject.h:118</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a4901ec04ad1ac886626e556c60f12196"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a4901ec04ad1ac886626e556c60f12196">g_run_idle_state</a></div><div class="ttdeci">EipUint32 g_run_idle_state</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00072">cipioconnection.c:72</a></div></div>
<div class="ttc" id="structAddressItem_html_a9b3cf54385b7e3db0c41d4d394c2d465"><div class="ttname"><a href="../../d3/d56/structAddressItem.html#a9b3cf54385b7e3db0c41d4d394c2d465">AddressItem::type_id</a></div><div class="ttdeci">CipUint type_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00042">cpf.h:42</a></div></div>
<div class="ttc" id="structcip__connection__object_html"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html">cip_connection_object</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00104">cipconnectionobject.h:104</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_a40e6630a28ca2e52e3f57b010035cbc0a66cd7ba622075121f11c67671a1d8645"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#a40e6630a28ca2e52e3f57b010035cbc0a66cd7ba622075121f11c67671a1d8645">kConnectionObjectTransportClassTriggerProductionTriggerCyclic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00048">cipconnectionobject.h:48</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a253879a49e8decd615b8abdaa6b1d5db"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a253879a49e8decd615b8abdaa6b1d5db">cip_connection_object::produced_connection_path_length</a></div><div class="ttdeci">CipUint produced_connection_path_length</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00115">cipconnectionobject.h:115</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_ac8eec747e3eb538b8208f84bb1cd876c"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#ac8eec747e3eb538b8208f84bb1cd876c">ConnectionObjectGetOToTConnectionSize</a></div><div class="ttdeci">size_t ConnectionObjectGetOToTConnectionSize(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00736">cipconnectionobject.c:736</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a46f1aa5e4d7142036318ba3c9f2707ea"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a46f1aa5e4d7142036318ba3c9f2707ea">kOpenerEipIoUdpPort</a></div><div class="ttdeci">const int kOpenerEipIoUdpPort</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00024">cipioconnection.c:24</a></div></div>
<div class="ttc" id="structAddressData_html_a955e0fc2a462a58b78f0da83df66a307"><div class="ttname"><a href="../../d9/da2/structAddressData.html#a955e0fc2a462a58b78f0da83df66a307">AddressData::connection_identifier</a></div><div class="ttdeci">EipUint32 connection_identifier</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00037">cpf.h:37</a></div></div>
<div class="ttc" id="appcontype_8c_html_ab3a019a2217375c098345317da123323"><div class="ttname"><a href="../../d1/dbc/appcontype_8c.html#ab3a019a2217375c098345317da123323">GetIoConnectionForConnectionData</a></div><div class="ttdeci">CipConnectionObject * GetIoConnectionForConnectionData(CipConnectionObject *const RESTRICT connection_object, EipUint16 *const extended_error)</div><div class="ttdoc">check if for the given connection data received in a forward_open request a suitable connection is av...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/appcontype_8c_source.html#l00127">appcontype.c:127</a></div></div>
<div class="ttc" id="group__ENCAP_html_ga70322f970709ca9c9a1a1d474cfe2302"><div class="ttname"><a href="../../d4/d91/group__ENCAP.html#ga70322f970709ca9c9a1a1d474cfe2302">GetIntFromMessage</a></div><div class="ttdeci">EipUint16 GetIntFromMessage(const EipUint8 **const buffer)</div><div class="ttdoc">Reads EIP_UINT16 from *buffer and converts little endian to host. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d73/endianconv_8c_source.html#l00057">endianconv.c:57</a></div></div>
<div class="ttc" id="structSocketAddressInfoItem_html_abaf556494b9fea3137c6c45522ab9bda"><div class="ttname"><a href="../../dc/d3c/structSocketAddressInfoItem.html#abaf556494b9fea3137c6c45522ab9bda">SocketAddressInfoItem::nasin_zero</a></div><div class="ttdeci">CipUsint nasin_zero[8]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00062">cpf.h:62</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a8337f1c87be14116f6ebc5e50e746a0c"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a8337f1c87be14116f6ebc5e50e746a0c">cip_connection_object::connection_send_data_function</a></div><div class="ttdeci">ConnectionSendDataFunction connection_send_data_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00187">cipconnectionobject.h:187</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a730b410a0cdbc6a456973c0e51568968"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a730b410a0cdbc6a456973c0e51568968">CloseIoConnection</a></div><div class="ttdeci">void CloseIoConnection(CipConnectionObject *connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00670">cipioconnection.c:670</a></div></div>
<div class="ttc" id="structenip__message_html_a052268ce732b27838354e89e94343933"><div class="ttname"><a href="../../d3/d4a/structenip__message.html#a052268ce732b27838354e89e94343933">enip_message::used_message_length</a></div><div class="ttdeci">size_t used_message_length</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2c/enipmessage_8h_source.html#l00014">enipmessage.h:14</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759adc76a9410b4fab054d9b4e17d0c5b067"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759adc76a9410b4fab054d9b4e17d0c5b067">kConnectionManagerExtendedStatusCodeErrorInvalidTToOConnectionSize</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00073">cipconnectionmanager.h:73</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_ad29970b643c2677739c3f0e0a7a58f37"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#ad29970b643c2677739c3f0e0a7a58f37">ConnectionObjectGetTransportClassTriggerProductionTrigger</a></div><div class="ttdeci">ConnectionObjectTransportClassTriggerProductionTrigger ConnectionObjectGetTransportClassTriggerProductionTrigger(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00313">cipconnectionobject.c:313</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_ad6b37311125336c0525f037c107e091aa8f7d20eb5adeb31d45a0bfb62dbefe9b"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aa8f7d20eb5adeb31d45a0bfb62dbefe9b">kConnectionObjectConnectionTypeMulticast</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00076">cipconnectionobject.h:76</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_ace0a978d1b7fe59261b1024b5ba1cd15"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#ace0a978d1b7fe59261b1024b5ba1cd15">ConnectionObjectSetState</a></div><div class="ttdeci">void ConnectionObjectSetState(CipConnectionObject *const connection_object, const ConnectionObjectState state)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00204">cipconnectionobject.c:204</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_ad6b37311125336c0525f037c107e091aabc6d5acdbfa8d7cea87c20cd43e5ed56"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#ad6b37311125336c0525f037c107e091aabc6d5acdbfa8d7cea87c20cd43e5ed56">kConnectionObjectConnectionTypePointToPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00077">cipconnectionobject.h:77</a></div></div>
<div class="ttc" id="structcip__connection__object_html_ad768fd9cfb97fcc4f7f7d01cdb67b24f"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#ad768fd9cfb97fcc4f7f7d01cdb67b24f">cip_connection_object::sequence_count_consuming</a></div><div class="ttdeci">CipUint sequence_count_consuming</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00154">cipconnectionobject.h:154</a></div></div>
<div class="ttc" id="group__CIP__CALLBACK__API_html_ga098272a8ae10facf3086c5c82a0080db"><div class="ttname"><a href="../../d5/dc5/group__CIP__CALLBACK__API.html#ga098272a8ae10facf3086c5c82a0080db">BeforeAssemblyDataSend</a></div><div class="ttdeci">EipBool8 BeforeAssemblyDataSend(CipInstance *instance)</div><div class="ttdoc">Inform the application that the data of an assembly object will be sent. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/daa/POSIX_2sample__application_2sampleapplication_8c_source.html#l00115">sampleapplication.c:115</a></div></div>
<div class="ttc" id="cipassembly_8h_html"><div class="ttname"><a href="../../de/df4/cipassembly_8h.html">cipassembly.h</a></div></div>
<div class="ttc" id="structCipCommonPacketFormatData_html"><div class="ttname"><a href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a></div><div class="ttdoc">A variant of a CPF packet, including item count, one address item, one data item, and two Sockaddr In...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/cpf_8h_source.html#l00067">cpf.h:67</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_a5dea6fc1be0ed4ecf5d9e4f932d52106"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#a5dea6fc1be0ed4ecf5d9e4f932d52106">OpenProducingMulticastConnection</a></div><div class="ttdeci">EipStatus OpenProducingMulticastConnection(CipConnectionObject *connection_object, CipCommonPacketFormatData *common_packet_format_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00443">cipioconnection.c:443</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_ac1ef9c10ff4921452840b0de66bb12cf"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#ac1ef9c10ff4921452840b0de66bb12cf">ProcessProductionInhibitTime</a></div><div class="ttdeci">EipUint16 ProcessProductionInhibitTime(CipConnectionObject *io_connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00074">cipioconnection.c:74</a></div></div>
<div class="ttc" id="typedefs_8h_html_ac1b4cfa25b4f5def62f23b455dd395d8"><div class="ttname"><a href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a></div><div class="ttdeci">uint16_t EipUint16</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/typedefs_8h_source.html#l00033">typedefs.h:33</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_a64d3a78bd3f520b632b04697bd0b2767"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#a64d3a78bd3f520b632b04697bd0b2767">ConnectionObjectGetInstanceType</a></div><div class="ttdeci">ConnectionObjectInstanceType ConnectionObjectGetInstanceType(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00241">cipconnectionobject.c:241</a></div></div>
<div class="ttc" id="structcip__connection__object_html_ae86f8f5b3ccc7aa691e24d404e051db8"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#ae86f8f5b3ccc7aa691e24d404e051db8">cip_connection_object::originator_address</a></div><div class="ttdeci">struct sockaddr_in originator_address</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00175">cipconnectionobject.h:175</a></div></div>
<div class="ttc" id="structCipByteArray_html_ad1f95b3da0adfd2aeafd5db1d415a6b9"><div class="ttname"><a href="../../de/dd7/structCipByteArray.html#ad1f95b3da0adfd2aeafd5db1d415a6b9">CipByteArray::data</a></div><div class="ttdeci">EipByte * data</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d28/ciptypes_8h_source.html#l00124">ciptypes.h:124</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_ae90368c85cedeaa7a56fb0eae81eeef2"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#ae90368c85cedeaa7a56fb0eae81eeef2">ConnectionObjectGetTToOConnectionSize</a></div><div class="ttdeci">size_t ConnectionObjectGetTToOConnectionSize(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00742">cipconnectionobject.c:742</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a12980d27282dccff87df1b3255bc39fd"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a12980d27282dccff87df1b3255bc39fd">cip_connection_object::inactivity_watchdog_timer</a></div><div class="ttdeci">uint64_t inactivity_watchdog_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00138">cipconnectionobject.h:138</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a81369fa2ff6c7f2165f3876c6eac1a03"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a81369fa2ff6c7f2165f3876c6eac1a03">kConnectionManagerExtendedStatusCodeErrorOwnershipConflict</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00041">cipconnectionmanager.h:41</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_a65b85bb4b72c902af06e054e24d6292c"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#a65b85bb4b72c902af06e054e24d6292c">ConnectionObjectGeneralConfiguration</a></div><div class="ttdeci">void ConnectionObjectGeneralConfiguration(CipConnectionObject *const connection_object)</div><div class="ttdoc">Generate the ConnectionIDs and set the general configuration parameter in the given connection object...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00769">cipconnectionobject.c:769</a></div></div>
<div class="ttc" id="cipioconnection_8c_html_ab3282f146a3ea91c90cf14c32206ee8c"><div class="ttname"><a href="../../df/d03/cipioconnection_8c.html#ab3282f146a3ea91c90cf14c32206ee8c">SetIoConnectionCallbacks</a></div><div class="ttdeci">void SetIoConnectionCallbacks(CipConnectionObject *const io_connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/cipioconnection_8c_source.html#l00101">cipioconnection.c:101</a></div></div>
<div class="ttc" id="structcip__connection__object_html_a71642c8a395c63ebd056867df5f71327"><div class="ttname"><a href="../../d2/da8/structcip__connection__object.html#a71642c8a395c63ebd056867df5f71327">cip_connection_object::last_package_watchdog_timer</a></div><div class="ttdeci">uint64_t last_package_watchdog_timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00139">cipconnectionobject.h:139</a></div></div>
<div class="ttc" id="cipconnectionmanager_8c_html_ac36c68122b200d1bc99fbe9fb35a3440"><div class="ttname"><a href="../../d5/d35/cipconnectionmanager_8c.html#ac36c68122b200d1bc99fbe9fb35a3440">CheckForTimedOutConnectionsAndCloseTCPConnections</a></div><div class="ttdeci">void CheckForTimedOutConnectionsAndCloseTCPConnections(const CipConnectionObject *const connection_object, CloseSessionFunction CloseSessions)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/cipconnectionmanager_8c_source.html#l01507">cipconnectionmanager.c:1507</a></div></div>
<div class="ttc" id="cipconnectionmanager_8c_html_aac2c0397cf54cb8356126c0d71d744ff"><div class="ttname"><a href="../../d5/d35/cipconnectionmanager_8c.html#aac2c0397cf54cb8356126c0d71d744ff">AddNewActiveConnection</a></div><div class="ttdeci">void AddNewActiveConnection(const CipConnectionObject *const connection_object)</div><div class="ttdoc">Insert the given connection object to the list of currently active and managed connections. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d35/cipconnectionmanager_8c_source.html#l01407">cipconnectionmanager.c:1407</a></div></div>
<div class="ttc" id="cipconnectionobject_8h_html_a7d9579ba2ab49ebf08a1e8b124f7c68fa3985efbf81d9660d0969a318d03fe3f6"><div class="ttname"><a href="../../d1/d6c/cipconnectionobject_8h.html#a7d9579ba2ab49ebf08a1e8b124f7c68fa3985efbf81d9660d0969a318d03fe3f6">kConnectionObjectTransportClassTriggerTransportClass1</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6c/cipconnectionobject_8h_source.html#l00056">cipconnectionobject.h:56</a></div></div>
<div class="ttc" id="ciperror_8h_html_a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b"><div class="ttname"><a href="../../d6/d52/ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218a8db04c3335e9735af7d59cf4b7cbdc4b">kCipErrorConnectionFailure</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d52/ciperror_8h_source.html#l00011">ciperror.h:11</a></div></div>
<div class="ttc" id="cipconnectionmanager_8h_html_a2c7b6cc102450d2b993391113bd2b759a40a08a853d51ce12008d4c935dbef985"><div class="ttname"><a href="../../d2/da3/cipconnectionmanager_8h.html#a2c7b6cc102450d2b993391113bd2b759a40a08a853d51ce12008d4c935dbef985">kConnectionManagerExtendedStatusCodeInvalidConsumingApplicationPath</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/da3/cipconnectionmanager_8h_source.html#l00076">cipconnectionmanager.h:76</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_a0f3d8e6f21712dbef3fb2e1da42f35ba"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#a0f3d8e6f21712dbef3fb2e1da42f35ba">ConnectionObjectGetTransportClassTriggerTransportClass</a></div><div class="ttdeci">ConnectionObjectTransportClassTriggerTransportClass ConnectionObjectGetTransportClassTriggerTransportClass(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00340">cipconnectionobject.c:340</a></div></div>
<div class="ttc" id="structmulticast__address__configuration_html_a983b98b7087072214bc4fc803b938df3"><div class="ttname"><a href="../../db/dd7/structmulticast__address__configuration.html#a983b98b7087072214bc4fc803b938df3">multicast_address_configuration::starting_multicast_address</a></div><div class="ttdeci">CipUdint starting_multicast_address</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dad/ciptcpipinterface_8h_source.html#l00030">ciptcpipinterface.h:30</a></div></div>
<div class="ttc" id="cipconnectionobject_8c_html_a3eb72e7befca17493e2cec4ebfda8552"><div class="ttname"><a href="../../df/d91/cipconnectionobject_8c.html#a3eb72e7befca17493e2cec4ebfda8552">ConnectionObjectGetTToOConnectionSizeType</a></div><div class="ttdeci">ConnectionObjectConnectionSizeType ConnectionObjectGetTToOConnectionSizeType(const CipConnectionObject *const connection_object)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d91/cipconnectionobject_8c_source.html#l00725">cipconnectionobject.c:725</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_527d9ccdfcaa9588043fa6eaabe08755.html">cip</a></li><li class="navelem"><a class="el" href="../../df/d03/cipioconnection_8c.html">cipioconnection.c</a></li>
    <li class="footer">Generated on Thu Nov 8 2018 12:43:11 for OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
